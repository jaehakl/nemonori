import{j as e,r as m}from"./index-DSMcWL2v.js";import{c as E}from"./index-oiFZrnAu.js";const M=[{kanji:"ãŠ",kana:"ãŠ",hangul:"ì˜¤"}],W=[{kanji:"æ˜¥",kana:"ã¯ã‚‹",hangul:"í•˜ë£¨"},{kanji:"å¤",kana:"ãªã¤",hangul:"ë‚˜ì“°"},{kanji:"ç§‹",kana:"ã‚ã",hangul:"ì•„í‚¤"},{kanji:"å†¬",kana:"ãµã‚†",hangul:"í›„ìœ "},{kanji:"æ¢…",kana:"ã†ã‚",hangul:"ìš°ë©”"},{kanji:"ç«¹",kana:"ãŸã‘",hangul:"íƒ€ì¼€"},{kanji:"èŠ",kana:"ãã",hangul:"ê¸°ì¿ "},{kanji:"å’²",kana:"ã•ã",hangul:"ì‚¬í‚¤"},{kanji:"èŠ±",kana:"ã¯ãª",hangul:"í•˜ë‚˜"},{kanji:"æ¾",kana:"ã¾ã¤",hangul:"ë§ˆì“°"},{kanji:"åˆ",kana:"ã¯ã¤",hangul:"í•˜ì“°"},{kanji:"å¯Œ",kana:"ã¨ã¿",hangul:"í† ë¯¸"},{kanji:"ç¦",kana:"ãµã",hangul:"í›„ì¿ "},{kanji:"ä¿¡",kana:"ã—ã‚“",hangul:"ì‹ "},{kanji:"å¯¿",kana:"ã²ã•",hangul:"íˆì‚¬"},{kanji:"èŠ³",kana:"ã‚ˆã—",hangul:"ìš”ì‹œ"},{kanji:"å…‰",kana:"ã¿ã¤",hangul:"ë¯¸ì“°"},{kanji:"ç´",kana:"ã“ã¨",hangul:"ì½”í† "},{kanji:"åœ’",kana:"ãã®",hangul:"ì†Œë…¸"},{kanji:"è“®",kana:"ã‚Œã‚“",hangul:"ë Œ"},{kanji:"é›ª",kana:"ã‚†ã",hangul:"ìœ í‚¤"},{kanji:"æ¡œ",kana:"ã•ãã‚‰",hangul:"ì‚¬ì¿ ë¼"},{kanji:"ç´…",kana:"ã¹ã«",hangul:"ë² ë‹ˆ"},{kanji:"ç¶¾",kana:"ã‚ã‚„",hangul:"ì•„ì•¼"},{kanji:"ç¾",kana:"ã¿",hangul:"ë¯¸"},{kanji:"æµ",kana:"ã‚ãã¿",hangul:"ë©”êµ¬ë¯¸"},{kanji:"æ¤¿",kana:"ã¤ã°ã",hangul:"ì“°ë°”í‚¤"},{kanji:"è–",kana:"ã‚ã‚„ã‚",hangul:"ì•„ì•¼ë©”"},{kanji:"è—¤",kana:"ãµã˜",hangul:"í›„ì§€"},{kanji:"è©",kana:"ã¯ã",hangul:"í•˜ê¸°"},{kanji:"è‹‘",kana:"ãˆã‚“",hangul:"ì—”"},{kanji:"ç‘",kana:"ã¿ãš",hangul:"ë¯¸ì¦ˆ"},{kanji:"ç‘ ",kana:"ã‚‹ã‚Š",hangul:"ë£¨ë¦¬"},{kanji:"ç ",kana:"ãŸã¾",hangul:"íƒ€ë§ˆ"},{kanji:"ç‰",kana:"ãŸã¾",hangul:"íƒ€ë§ˆ"},{kanji:"ç³¸",kana:"ã„ã¨",hangul:"ì´í† "},{kanji:"çµ¹",kana:"ãã¬",hangul:"ê¸°ëˆ„"},{kanji:"å½©",kana:"ã‚ã‚„",hangul:"ì•„ì•¼"},{kanji:"èˆ",kana:"ã¾ã„",hangul:"ë§ˆì´"},{kanji:"æ­Œ",kana:"ã†ãŸ",hangul:"ìš°íƒ€"},{kanji:"è©©",kana:"ã†ãŸ",hangul:"ìš°íƒ€"}],A=[{kanji:"å­",kana:"ã“",hangul:"ì½”"},{kanji:"æ±Ÿ",kana:"ãˆ",hangul:"ì—"},{kanji:"ä»£",kana:"ã‚ˆ",hangul:"ìš”"},{kanji:"ä¹ƒ",kana:"ã®",hangul:"ë…¸"},{kanji:"é¦™",kana:"ã‹",hangul:"ì¹´"},{kanji:"æµ",kana:"ãˆ",hangul:"ì—"},{kanji:"ç¾",kana:"ã¿",hangul:"ë¯¸"},{kanji:"æ´¥",kana:"ã¤",hangul:"ì“°"},{kanji:"éŸ³",kana:"ã­",hangul:"ë„¤"},{kanji:"æ",kana:"ãˆ",hangul:"ì—"},{kanji:"ä¸–",kana:"ã‚ˆ",hangul:"ìš”"},{kanji:"é‡Œ",kana:"ã‚Š",hangul:"ë¦¬"},{kanji:"å¥ˆ",kana:"ãª",hangul:"ë‚˜"},{kanji:"åŠ ",kana:"ã‹",hangul:"ì¹´"},{kanji:"å¥³",kana:"ã‚",hangul:"ë©”"},{kanji:"å§«",kana:"ã²ã‚",hangul:"íˆë©”"},{kanji:"å¦™",kana:"ãŸãˆ",hangul:"íƒ€ì—"},{kanji:"ç´€",kana:"ã®ã‚Š",hangul:"ë…¸ë¦¬"},{kanji:"ç‘ ",kana:"ã‚‹",hangul:"ë£¨"},{kanji:"ç ",kana:"ãŸã¾",hangul:"íƒ€ë§ˆ"},{kanji:"ç‘›",kana:"ãˆã„",hangul:"ì—ì´"},{kanji:"ç´",kana:"ã“ã¨",hangul:"ì½”í† "},{kanji:"é¶´",kana:"ã¤ã‚‹",hangul:"ì“°ë£¨"},{kanji:"é¶¯",kana:"ã†ãã„ã™",hangul:"ìš°êµ¬ì´ìŠ¤"}],D=[{kanji:"å¤ª",kana:"ãŸ",hangul:"íƒ€"},{kanji:"æ¬¡",kana:"ã˜",hangul:"ì§€"},{kanji:"ä¸‰",kana:"ã•",hangul:"ì‚¬"},{kanji:"å››",kana:"ã—",hangul:"ì‹œ"},{kanji:"äº”",kana:"ã”",hangul:"ê³ "},{kanji:"å…­",kana:"ã‚ã",hangul:"ë¡œì¿ "},{kanji:"ä¸ƒ",kana:"ã—ã¡",hangul:"ì‹œì¹˜"},{kanji:"ä¹",kana:"ã",hangul:"ì¿ "},{kanji:"å",kana:"ã˜ã‚…ã†",hangul:"ì£¼"},{kanji:"å…µ",kana:"ã¸ã„",hangul:"í—¤ì´"},{kanji:"å‰",kana:"ãã¡",hangul:"ê¸°ì¹˜"},{kanji:"æ¾",kana:"ã¾ã¤",hangul:"ë§ˆì“°"},{kanji:"åŠ©",kana:"ã™ã‘",hangul:"ìŠ¤ì¼€"},{kanji:"è”µ",kana:"ãã†",hangul:"ì¡°"},{kanji:"å¹³",kana:"ã¸ã„",hangul:"í—¤ì´"},{kanji:"å¿ ",kana:"ãŸã ",hangul:"íƒ€ë‹¤"},{kanji:"ç¾©",kana:"ã‚ˆã—",hangul:"ìš”ì‹œ"},{kanji:"å‹‡",kana:"ã„ã•ã‚€",hangul:"ì´ì‚¬ë¬´"},{kanji:"æ­¦",kana:"ãŸã‘",hangul:"íƒ€ì¼€"},{kanji:"åŠ›",kana:"ã‚Šã",hangul:"ë¦¬í‚¤"},{kanji:"æ­£",kana:"ã¾ã•",hangul:"ë§ˆì‚¬"},{kanji:"é•·",kana:"ãªãŒ",hangul:"ë‚˜ê°€"},{kanji:"å¹¸",kana:"ã‚†ã",hangul:"ìœ í‚¤"},{kanji:"ç›´",kana:"ãªãŠ",hangul:"ë‚˜ì˜¤"},{kanji:"æ „",kana:"ãˆã„",hangul:"ì—ì´"},{kanji:"å…‰",kana:"ã¿ã¤",hangul:"ë¯¸ì“°"},{kanji:"ç«œ",kana:"ãŸã¤",hangul:"íƒ€ì“°"},{kanji:"è™",kana:"ã¨ã‚‰",hangul:"ë„ë¼"},{kanji:"é·¹",kana:"ãŸã‹",hangul:"íƒ€ì¹´"},{kanji:"é¯‰",kana:"ã“ã„",hangul:"ì½”ì´"},{kanji:"å‹˜",kana:"ã‹ã‚“",hangul:"ì¹¸"}],U=[{kanji:"éƒ",kana:"ã‚ã†",hangul:"ë¡œ"},{kanji:"åŠ©",kana:"ã™ã‘",hangul:"ìŠ¤ì¼€"},{kanji:"å…µè¡›",kana:"ã¹ãˆ",hangul:"ë² "},{kanji:"å³è¡›é–€",kana:"ãˆã‚‚ã‚“",hangul:"ì—ëª¬"},{kanji:"å‰",kana:"ãã¡",hangul:"ê¸°ì¹˜"},{kanji:"è”µ",kana:"ãã†",hangul:"ì¡°"},{kanji:"ä¹‹åŠ©",kana:"ã®ã™ã‘",hangul:"ë…¸ìŠ¤ì¼€"},{kanji:"ä¸‰éƒ",kana:"ã•ã¶ã‚ã†",hangul:"ì‚¬ë¶€ë¡œ"},{kanji:"å…«",kana:"ã¯ã¡",hangul:"í•˜ì¹˜"},{kanji:"å¹³",kana:"ã¸ã„",hangul:"í—¤ì´"},{kanji:"ç§€",kana:"ã²ã§",hangul:"íˆë°"},{kanji:"æ”¿",kana:"ã¾ã•",hangul:"ë§ˆì‚¬"},{kanji:"æ’",kana:"ã¤ã­",hangul:"ì“°ë„¤"},{kanji:"é«˜",kana:"ãŸã‹",hangul:"íƒ€ì¹´"},{kanji:"ç™»",kana:"ã®ã¼ã‚‹",hangul:"ë…¸ë³´ë£¨"},{kanji:"ç››",kana:"ã‚‚ã‚Š",hangul:"ëª¨ë¦¬"},{kanji:"æ˜¥",kana:"ã¯ã‚‹",hangul:"í•˜ë£¨"},{kanji:"ç§‹",kana:"ã‚ã",hangul:"ì•„í‚¤"},{kanji:"ä¹‹ä¸",kana:"ã®ã˜ã‚‡ã†",hangul:"ë…¸ì¡°"},{kanji:"å¼¥",kana:"ã‚„",hangul:"ì•¼"},{kanji:"ä¸€é¦¬",kana:"ã‹ãšã¾",hangul:"ì¹´ì¦ˆë§ˆ"},{kanji:"æ¸…",kana:"ãã‚ˆ",hangul:"í‚¤ìš”"}],$=[{kanji:"ä¸€",kana:"ã„ã¡",hangul:"ì´ì¹˜"},{kanji:"äºŒ",kana:"ã˜",hangul:"ì§€"},{kanji:"ä¸‰",kana:"ã•ã‚“",hangul:"ì‚°"},{kanji:"å››",kana:"ã—",hangul:"ì‹œ"},{kanji:"äº”",kana:"ã”",hangul:"ê³ "},{kanji:"å…­",kana:"ã‚ã",hangul:"ë¡œì¿ "},{kanji:"ä¸ƒ",kana:"ã—ã¡",hangul:"ì‹œì¹˜"},{kanji:"å…«",kana:"ã¯ã¡",hangul:"í•˜ì¹˜"},{kanji:"ä¹",kana:"ã",hangul:"ì¿ "},{kanji:"å",kana:"ã˜ã‚…ã†",hangul:"ì£¼"}];function O(t){return t[Math.floor(Math.random()*t.length)]}function w(t){const s=t.reduce((o,g)=>o+g.w,0);let i=Math.random()*s;for(const o of t)if((i-=o.w)<=0)return o.v;return t[t.length-1].v}function K(t){return w(t==="female"?[{v:"O_CORE",w:35},{v:"O_CORE_SUFFIX",w:30},{v:"CORE_SUFFIX",w:35}]:[{v:"CORE_SUFFIX",w:25},{v:"O_CORE_SUFFIX",w:20},{v:"O_NUM_SUFFIX",w:20},{v:"O_NUM",w:15},{v:"NUM_SUFFIX",w:20}])}function S(t){return{kanji:t.map(s=>s.kanji).join(""),kana:t.map(s=>s.kana).join(""),hangul:t.map(s=>s.hangul).join("")}}function B(t="female"){const s=K(t);if(t==="female"){const i=O(W),o=O(A);return S(s==="O_CORE"?[O(M),i]:s==="O_CORE_SUFFIX"?[O(M),i,o]:[i,o])}else{const i=O(D),o=O(U),g=O($);switch(s){case"CORE_SUFFIX":return S([i,o]);case"O_CORE_SUFFIX":return S([O(M),i,o]);case"O_NUM_SUFFIX":return S([O(M),g,o]);case"O_NUM":return S([O(M),g]);case"NUM_SUFFIX":return S([g,o])}}}function X(){let t=[],s=1,i=1700,o=1,g=1e3,d=0,p=1,l=!0,u=!0;function b(n){return B(n).hangul}function h(n=null,a=1){return n||(n=Math.random()<.5?"male":"female"),{id:s++,name:b(n),gender:n,age:a,labor:v(n,a)}}function c(n,a=null,r=1){a||(a=Math.random()<.5?"male":"female");const j=B(a);return{id:s++,name:j.hangul,gender:a,age:r,labor:v(a,r)}}function v(n,a){return a<12||a>65?0:2}function _(n){const a=t.findIndex(r=>r.id===n);return a!==-1&&t.splice(a,1)[0]||null}return{id:"village",init(n){var a;if((a=n.state).village??(a.village={people:[],nextId:1,festival:!1,year:1700,turn:1,food:1e3,laborDeficit:0,month:1,allowMaleBirths:!0,allowFemaleBirths:!0}),t=n.state.village.people,s=n.state.village.nextId,i=n.state.village.year,o=n.state.village.turn,g=n.state.village.food,d=n.state.village.laborDeficit,p=n.state.village.month,l=n.state.village.allowMaleBirths,u=n.state.village.allowFemaleBirths,t.length===0){for(let r=0;r<10;r++){const j=Math.floor(Math.random()*50)+15,x=h(null,j);t.push(x)}n.state.village.people=t,n.state.village.nextId=s}},actions:{nextTurn(n,a){const r=[];t.forEach(f=>{p===12&&f.age++,f.labor=v(f.gender,f.age)});const j=t.filter(f=>f.gender==="female"&&f.age>=18&&f.age<=40),x=a.state.village.festival?.1:.03;j.forEach(f=>{if(a.rand.roll(x)){const y=Math.random()<.5?"male":"female";if(y==="male"&&l||y==="female"&&u){const C=c(f.name.split(" ")[0],y);t.push(C),r.push({type:"log",msg:`${f.name}ì´(ê°€) ${C.name}ì„(ë¥¼) ë‚³ì•˜ìŠµë‹ˆë‹¤!`})}}});const k=[];t.forEach(f=>{const y=f.age/1e4;a.rand.roll(y)&&k.push(f)}),k.forEach(f=>{const y=t.findIndex(C=>C.id===f.id);y!==-1&&t.splice(y,1),r.push({type:"log",msg:`${f.name}ì´(ê°€) ì„¸ìƒì„ ë– ë‚¬ìŠµë‹ˆë‹¤. (${f.age}ì„¸)`})}),a.state.village.festival&&(a.state.village.festival=!1);const T=t.length;if(g<T){const f=T-g;for(let y=0;y<f&&t.length>0;y++){const C=Math.floor(Math.random()*t.length),F=t.splice(C,1)[0];F&&r.push({type:"log",msg:`${F.name}ì´(ê°€) êµ¶ì–´ ì£½ì—ˆìŠµë‹ˆë‹¤.`})}g=0}else g-=T;const P=100,R=t.reduce((f,y)=>f+y.labor,0);if(R<P&&(d+=P-R),p===10){const f=Math.max(0,1200-d);g+=f,d=0,r.push({type:"log",msg:`ìˆ˜í™•ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. +${f} ì‹ëŸ‰`})}return p=p===12?1:p+1,o++,o>12&&(o=1,i++),a.state.village.people=t,a.state.village.nextId=s,a.state.village.year=i,a.state.village.turn=o,a.state.village.food=g,a.state.village.laborDeficit=d,a.state.village.month=p,a.state.village.allowMaleBirths=l,a.state.village.allowFemaleBirths=u,r},exile({personId:n},a){const r=_(n);return r?(a.state.village.people=t,[{type:"log",msg:`${r.name}ì„(ë¥¼) ë§ˆì„ì—ì„œ ì¶”ë°©í–ˆìŠµë‹ˆë‹¤.`}]):[{type:"log",msg:"ì¶”ë°©í•  ì‚¬ëŒì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."}]},holdFestival(n,a){return a.state.village.festival=!0,[{type:"log",msg:"ì¶•ì œë¥¼ ê°œìµœí–ˆìŠµë‹ˆë‹¤! ì¶œì‚° í™•ë¥ ì´ ì¦ê°€í•©ë‹ˆë‹¤."}]},toggleMaleBirths(n,a){return l=!l,a.state.village.allowMaleBirths=l,[{type:"log",msg:`ë‚¨ìì•„ì´ ì¶œì‚°: ${l?"í—ˆìš©":"ê¸ˆì§€"}`}]},toggleFemaleBirths(n,a){return u=!u,a.state.village.allowFemaleBirths=u,[{type:"log",msg:`ì—¬ìì•„ì´ ì¶œì‚°: ${u?"í—ˆìš©":"ê¸ˆì§€"}`}]},reset(n,a){i=1700,o=1,g=1e3,d=0,p=1,t=[],s=1,l=!0,u=!0;for(let r=0;r<10;r++){const j=Math.floor(Math.random()*50)+15,x=h(null,j);t.push(x)}return a.state.village.people=t,a.state.village.nextId=s,a.state.village.year=i,a.state.village.turn=o,a.state.village.food=g,a.state.village.laborDeficit=d,a.state.village.month=p,a.state.village.festival=!1,a.state.village.allowMaleBirths=l,a.state.village.allowFemaleBirths=u,[{type:"log",msg:"ê²Œì„ì„ ë¦¬ì…‹í–ˆìŠµë‹ˆë‹¤."}]},addFood({amount:n},a){return g+=n,a.state.village.food=g,[{type:"log",msg:`ì‹ëŸ‰ ${n} ì¶”ê°€`}]}},update(n,a){},save(){return{people:t.map(n=>({...n})),nextId:s,year:i,turn:o,food:g,laborDeficit:d,month:p,allowMaleBirths:l,allowFemaleBirths:u}},load(n){n&&(t=n.people||[],s=n.nextId||1,i=n.year||1700,o=n.turn||1,g=n.food||1e3,d=n.laborDeficit||0,p=n.month||1,l=n.allowMaleBirths!==void 0?n.allowMaleBirths:!0,u=n.allowFemaleBirths!==void 0?n.allowFemaleBirths:!0)}}}function N({kernel:t,autoPlay:s,gameSpeed:i}){const o=t.ctx.state.village;if(!o)return e.jsx("div",{children:"ë¡œë”© ì¤‘..."});const g=o.people||[],d=g.reduce((h,c)=>h+c.labor,0),p=g.filter(h=>h.gender==="female"&&h.age>=15&&h.age<=40).length,l=g.filter(h=>h.age<15).length,u=g.filter(h=>h.age>60).length,b=["1ì›”","2ì›”","3ì›”","4ì›”","5ì›”","6ì›”","7ì›”","8ì›”","9ì›”","10ì›”","11ì›”","12ì›”"];return e.jsxs("div",{style:{border:"2px solid #34495e",borderRadius:"8px",padding:"20px",backgroundColor:"#ecf0f1",marginBottom:"20px"},children:[e.jsx("h2",{style:{margin:"0 0 15px 0",color:"#2c3e50"},children:"ë§ˆì„ ìƒíƒœ"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"16px"},children:"ê¸°ë³¸ ì •ë³´"}),e.jsxs("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"ì—°ë„:"})," ",o.year,"ë…„"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ì›”:"})," ",b[o.turn-1]]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ì´ ì¸êµ¬:"})," ",g.length,"ëª…"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ì´ ë…¸ë™ë ¥:"})," ",d,"ì¸ë¶„"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"16px"},children:"ì¸êµ¬ êµ¬ì„±"}),e.jsxs("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"ê°€ì„ê¸° ì—¬ì„±:"})," ",p,"ëª…"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ì–´ë¦°ì´ (15ì„¸ ë¯¸ë§Œ):"})," ",l,"ëª…"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ë…¸ì¸ (60ì„¸ ì´ˆê³¼):"})," ",u,"ëª…"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ë…¸ë™ ê°€ëŠ¥ ì¸êµ¬:"})," ",g.length-l-u,"ëª…"]})]})]})]}),e.jsxs("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#fff",borderRadius:"4px"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"16px"},children:"ì‹ëŸ‰ í˜„í™©"}),e.jsxs("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"í˜„ì¬ ì‹ëŸ‰:"})," ",o.food,"ê°œ"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ì›” ì†Œë¹„ëŸ‰:"})," ",g.length,"ê°œ"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ë…¸ë™ë ¥ ë¶€ì¡±:"})," ",o.laborDeficit,"ì¸ë¶„"]}),e.jsx("div",{style:{color:o.food<g.length?"#e74c3c":"#27ae60",fontWeight:"bold"},children:o.food<g.length?"âš ï¸ ì‹ëŸ‰ ë¶€ì¡±!":"âœ… ì‹ëŸ‰ ì¶©ë¶„"})]})]}),o.festival&&e.jsx("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#f39c12",color:"white",borderRadius:"4px",textAlign:"center",fontWeight:"bold"},children:"ğŸ‰ ì¶•ì œ ì§„í–‰ ì¤‘! ì¶œì‚° í™•ë¥  ì¦ê°€"}),e.jsxs("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:s?"#27ae60":"#95a5a6",color:"white",borderRadius:"4px",textAlign:"center",fontWeight:"bold"},children:[s?"ğŸ”„ ìë™ ì§„í–‰ ì¤‘":"â¸ï¸ ì¼ì‹œì •ì§€ë¨",s&&` (${i===1e3?"1x ë³´í†µ":i===100?"10x ë¹ ë¦„":i===33?"30x ë§¤ìš° ë¹ ë¦„":"100x ì´ˆê³ ì†"})`]})]})}const H="/assets/2025-08-13_00075_-B28ohnct.jpg",L=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"})),q="/assets/2025-08-13_00076_-C2PEqnjU.jpg",G=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"})),Q="/assets/2025-08-13_00081_-Dsy-ldUy.jpg",Y=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"})),V="/assets/2025-08-13_00088_-BW8jwbZ7.jpg",Z=Object.freeze(Object.defineProperty({__proto__:null,default:V},Symbol.toStringTag,{value:"Module"})),J="/assets/2025-08-13_00089_-D-d2kzD1.jpg",ee=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"})),te="/assets/2025-08-13_00050_-DJR3CHH6.jpg",ne=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"})),le="/assets/2025-08-13_00051_-lnpuWhXq.jpg",ae=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"})),oe="/assets/2025-08-13_00052_-BjR2eDyp.jpg",re=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"})),ie="/assets/2025-08-13_00053_-DB0p0vQU.jpg",se=Object.freeze(Object.defineProperty({__proto__:null,default:ie},Symbol.toStringTag,{value:"Module"})),ge="/assets/2025-08-13_00054_-OEDqAO-a.jpg",_e=Object.freeze(Object.defineProperty({__proto__:null,default:ge},Symbol.toStringTag,{value:"Module"})),ce="/assets/2025-08-13_00055_-B7VRisCC.jpg",de=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"})),ue="/assets/2025-08-13_00056_-CsBmnecW.jpg",pe=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"})),fe="/assets/2025-08-13_00057_-DHRmvI41.jpg",je=Object.freeze(Object.defineProperty({__proto__:null,default:fe},Symbol.toStringTag,{value:"Module"})),he="/assets/2025-08-13_00058_-D92EvgCR.jpg",be=Object.freeze(Object.defineProperty({__proto__:null,default:he},Symbol.toStringTag,{value:"Module"})),me="/assets/2025-08-13_00059_-D57OsbTj.jpg",xe=Object.freeze(Object.defineProperty({__proto__:null,default:me},Symbol.toStringTag,{value:"Module"})),ke="/assets/2025-08-13_00060_-IFwclxHR.jpg",ye=Object.freeze(Object.defineProperty({__proto__:null,default:ke},Symbol.toStringTag,{value:"Module"})),ve="/assets/2025-08-13_00061_-DslnoDoV.jpg",Oe=Object.freeze(Object.defineProperty({__proto__:null,default:ve},Symbol.toStringTag,{value:"Module"})),Se="/assets/2025-08-13_00062_-D08PWGaD.jpg",Ce=Object.freeze(Object.defineProperty({__proto__:null,default:Se},Symbol.toStringTag,{value:"Module"})),Me="/assets/2025-08-13_00063_-IpQWDEuF.jpg",Te=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"})),ze="/assets/2025-08-13_00064_-ycqgLnlf.jpg",Pe=Object.freeze(Object.defineProperty({__proto__:null,default:ze},Symbol.toStringTag,{value:"Module"})),Re="/assets/2025-08-13_00065_-CMXInUHK.jpg",Fe=Object.freeze(Object.defineProperty({__proto__:null,default:Re},Symbol.toStringTag,{value:"Module"})),we="/assets/2025-08-13_00066_-DcS4OYOU.jpg",Be=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"})),Ie="/assets/2025-08-13_00067_-CGiTirho.jpg",Ee=Object.freeze(Object.defineProperty({__proto__:null,default:Ie},Symbol.toStringTag,{value:"Module"})),We="/assets/2025-08-13_00068_-CPYshIB3.jpg",Ae=Object.freeze(Object.defineProperty({__proto__:null,default:We},Symbol.toStringTag,{value:"Module"})),De="/assets/2025-08-13_00069_-Cjw3i65m.jpg",Ue=Object.freeze(Object.defineProperty({__proto__:null,default:De},Symbol.toStringTag,{value:"Module"})),$e="/assets/2025-08-13_00070_-FB69Ohh-.jpg",Ke=Object.freeze(Object.defineProperty({__proto__:null,default:$e},Symbol.toStringTag,{value:"Module"})),Xe="/assets/2025-08-13_00071_-xWQhWTfV.jpg",Ne=Object.freeze(Object.defineProperty({__proto__:null,default:Xe},Symbol.toStringTag,{value:"Module"})),He="/assets/2025-08-13_00072_-B2wJktBs.jpg",Le=Object.freeze(Object.defineProperty({__proto__:null,default:He},Symbol.toStringTag,{value:"Module"})),qe="/assets/2025-08-13_00073_-fGho_QQ2.jpg",Ge=Object.freeze(Object.defineProperty({__proto__:null,default:qe},Symbol.toStringTag,{value:"Module"})),Qe="/assets/2025-08-13_00074_-CJiqGcsh.jpg",Ye=Object.freeze(Object.defineProperty({__proto__:null,default:Qe},Symbol.toStringTag,{value:"Module"})),Ve="/assets/2025-08-13_00077_-DeFjwSkW.jpg",Ze=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"})),Je="/assets/2025-08-13_00078_-hO8jZgbg.jpg",et=Object.freeze(Object.defineProperty({__proto__:null,default:Je},Symbol.toStringTag,{value:"Module"})),tt="/assets/2025-08-13_00079_-ECjOwd3z.jpg",nt=Object.freeze(Object.defineProperty({__proto__:null,default:tt},Symbol.toStringTag,{value:"Module"})),lt="/assets/2025-08-13_00080_-ClraitSR.jpg",at=Object.freeze(Object.defineProperty({__proto__:null,default:lt},Symbol.toStringTag,{value:"Module"})),ot="/assets/2025-08-13_00082_-BqLQbDhR.jpg",rt=Object.freeze(Object.defineProperty({__proto__:null,default:ot},Symbol.toStringTag,{value:"Module"})),it="/assets/2025-08-13_00083_-DIpW02zZ.jpg",st=Object.freeze(Object.defineProperty({__proto__:null,default:it},Symbol.toStringTag,{value:"Module"})),gt="/assets/2025-08-13_00084_-Cf5z0qHW.jpg",_t=Object.freeze(Object.defineProperty({__proto__:null,default:gt},Symbol.toStringTag,{value:"Module"})),ct="/assets/2025-08-13_00085_-CKOXG9Zm.jpg",dt=Object.freeze(Object.defineProperty({__proto__:null,default:ct},Symbol.toStringTag,{value:"Module"})),ut="/assets/2025-08-13_00087_-Bq3rg1Bf.jpg",pt=Object.freeze(Object.defineProperty({__proto__:null,default:ut},Symbol.toStringTag,{value:"Module"})),ft="/assets/2025-08-13_00091_-CcGjxWbd.jpg",jt=Object.freeze(Object.defineProperty({__proto__:null,default:ft},Symbol.toStringTag,{value:"Module"})),ht="/assets/2025-08-13_00093_-CogC2_u7.jpg",bt=Object.freeze(Object.defineProperty({__proto__:null,default:ht},Symbol.toStringTag,{value:"Module"})),mt="/assets/2025-08-13_00037_-C4KKPtC6.jpg",xt=Object.freeze(Object.defineProperty({__proto__:null,default:mt},Symbol.toStringTag,{value:"Module"})),kt="/assets/2025-08-13_00038_-D41k4fNp.jpg",yt=Object.freeze(Object.defineProperty({__proto__:null,default:kt},Symbol.toStringTag,{value:"Module"})),vt="/assets/2025-08-13_00039_-C5xI7rD9.jpg",Ot=Object.freeze(Object.defineProperty({__proto__:null,default:vt},Symbol.toStringTag,{value:"Module"})),St="/assets/2025-08-13_00040_-0sf-oWcM.jpg",Ct=Object.freeze(Object.defineProperty({__proto__:null,default:St},Symbol.toStringTag,{value:"Module"})),Mt="/assets/2025-08-13_00041_-X42O97hK.jpg",Tt=Object.freeze(Object.defineProperty({__proto__:null,default:Mt},Symbol.toStringTag,{value:"Module"})),zt="/assets/2025-08-13_00042_-B3zs8tSn.jpg",Pt=Object.freeze(Object.defineProperty({__proto__:null,default:zt},Symbol.toStringTag,{value:"Module"})),Rt="/assets/2025-08-13_00043_-2YpN1l2s.jpg",Ft=Object.freeze(Object.defineProperty({__proto__:null,default:Rt},Symbol.toStringTag,{value:"Module"})),wt="/assets/2025-08-13_00044_-B3BlxxX_.jpg",Bt=Object.freeze(Object.defineProperty({__proto__:null,default:wt},Symbol.toStringTag,{value:"Module"})),It="/assets/2025-08-13_00045_-OWz8xbpt.jpg",Et=Object.freeze(Object.defineProperty({__proto__:null,default:It},Symbol.toStringTag,{value:"Module"})),Wt="/assets/2025-08-13_00046_-aGqFoQYD.jpg",At=Object.freeze(Object.defineProperty({__proto__:null,default:Wt},Symbol.toStringTag,{value:"Module"})),Dt="/assets/2025-08-13_00047_-D-0K6AcX.jpg",Ut=Object.freeze(Object.defineProperty({__proto__:null,default:Dt},Symbol.toStringTag,{value:"Module"})),$t="/assets/2025-08-13_00048_-CYQ0ix10.jpg",Kt=Object.freeze(Object.defineProperty({__proto__:null,default:$t},Symbol.toStringTag,{value:"Module"})),Xt="/assets/2025-08-13_00049_-Dcng7QTS.jpg",Nt=Object.freeze(Object.defineProperty({__proto__:null,default:Xt},Symbol.toStringTag,{value:"Module"}));function Ht({people:t,onExile:s}){const[i,o]=m.useState(null),[g,d]=m.useState(!1),p=m.useMemo(()=>{const n=Object.assign({"../../images/boy/2025-08-13_00075_.jpg":L,"../../images/boy/2025-08-13_00076_.jpg":G,"../../images/boy/2025-08-13_00081_.jpg":Y,"../../images/boy/2025-08-13_00088_.jpg":Z,"../../images/boy/2025-08-13_00089_.jpg":ee,"../../images/female/2025-08-13_00050_.jpg":ne,"../../images/female/2025-08-13_00051_.jpg":ae,"../../images/female/2025-08-13_00052_.jpg":re,"../../images/female/2025-08-13_00053_.jpg":se,"../../images/female/2025-08-13_00054_.jpg":_e,"../../images/female/2025-08-13_00055_.jpg":de,"../../images/female/2025-08-13_00056_.jpg":pe,"../../images/female/2025-08-13_00057_.jpg":je,"../../images/female/2025-08-13_00058_.jpg":be,"../../images/female/2025-08-13_00059_.jpg":xe,"../../images/female/2025-08-13_00060_.jpg":ye,"../../images/female/2025-08-13_00061_.jpg":Oe,"../../images/female/2025-08-13_00062_.jpg":Ce,"../../images/female/2025-08-13_00063_.jpg":Te,"../../images/female/2025-08-13_00064_.jpg":Pe,"../../images/female/2025-08-13_00065_.jpg":Fe,"../../images/female/2025-08-13_00066_.jpg":Be,"../../images/female/2025-08-13_00067_.jpg":Ee,"../../images/female/2025-08-13_00068_.jpg":Ae,"../../images/female/2025-08-13_00069_.jpg":Ue,"../../images/female/2025-08-13_00070_.jpg":Ke,"../../images/female/2025-08-13_00071_.jpg":Ne,"../../images/female/2025-08-13_00072_.jpg":Le,"../../images/girl/2025-08-13_00073_.jpg":Ge,"../../images/girl/2025-08-13_00074_.jpg":Ye,"../../images/girl/2025-08-13_00077_.jpg":Ze,"../../images/girl/2025-08-13_00078_.jpg":et,"../../images/girl/2025-08-13_00079_.jpg":nt,"../../images/girl/2025-08-13_00080_.jpg":at,"../../images/girl/2025-08-13_00082_.jpg":rt,"../../images/girl/2025-08-13_00083_.jpg":st,"../../images/girl/2025-08-13_00084_.jpg":_t,"../../images/girl/2025-08-13_00085_.jpg":dt,"../../images/girl/2025-08-13_00087_.jpg":pt,"../../images/girl/2025-08-13_00091_.jpg":jt,"../../images/girl/2025-08-13_00093_.jpg":bt,"../../images/male/2025-08-13_00037_.jpg":xt,"../../images/male/2025-08-13_00038_.jpg":yt,"../../images/male/2025-08-13_00039_.jpg":Ot,"../../images/male/2025-08-13_00040_.jpg":Ct,"../../images/male/2025-08-13_00041_.jpg":Tt,"../../images/male/2025-08-13_00042_.jpg":Pt,"../../images/male/2025-08-13_00043_.jpg":Ft,"../../images/male/2025-08-13_00044_.jpg":Bt,"../../images/male/2025-08-13_00045_.jpg":Et,"../../images/male/2025-08-13_00046_.jpg":At,"../../images/male/2025-08-13_00047_.jpg":Ut,"../../images/male/2025-08-13_00048_.jpg":Kt,"../../images/male/2025-08-13_00049_.jpg":Nt}),a={male:[],female:[],boy:[],girl:[]};return Object.keys(n).forEach(r=>{const j=r.split("/").pop(),x=n[r].default;r.includes("/male/")?a.male.push({fileName:j,url:x}):r.includes("/female/")?a.female.push({fileName:j,url:x}):r.includes("/boy/")?a.boy.push({fileName:j,url:x}):r.includes("/girl/")&&a.girl.push({fileName:j,url:x})}),a},[]),l=n=>{const r=n.age>=12?n.gender==="male"?"male":"female":n.gender==="male"?"boy":"girl",j=p[r]||[];if(j.length===0)return null;const x=n.id%j.length;return j[x].url},u=n=>{const{gender:a,age:r}=n;return r>65?"rgba(192, 192, 192, 0.7)":r>=12?a==="male"?"rgba(44, 62, 80, 0.7)":"rgba(149, 165, 166, 0.7)":a==="male"?"rgba(135, 206, 235, 0.7)":"rgba(255, 182, 193, 0.7)"},b=n=>{const{gender:a,age:r}=n;return r>65?"#2c3e50":r>=12&&a==="male"?"#ffffff":"#2c3e50"},h=(n,a)=>{s(n)},c=n=>{o(n),d(!0)},v=()=>{d(!1),o(null)},_=()=>{i&&(s(i.id),v())};return e.jsxs("div",{style:{border:"2px solid #34495e",borderRadius:"8px",padding:"20px",backgroundColor:"#ecf0f1"},children:[e.jsxs("h2",{style:{margin:"0 0 15px 0",color:"#2c3e50"},children:["ë§ˆì„ ì‚¬ëŒë“¤ (",t.length,"ëª…)"]}),t.length===0?e.jsx("div",{style:{textAlign:"center",color:"#7f8c8d",padding:"20px"},children:"ë§ˆì„ì— ì‚¬ëŒì´ ì—†ìŠµë‹ˆë‹¤."}):e.jsx("div",{style:{height:"632px",minHeight:"400px",overflowY:"auto",border:"1px solid #bdc3c7",borderRadius:"4px",backgroundColor:"white",padding:"15px"},children:e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(90px, 1fr))",gap:"6px",alignItems:"start"},children:t.map(n=>{const a=l(n);return e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"6px 4px",border:`2px solid ${n.labor>0?"#27ae60":"#e74c3c"}`,borderRadius:"6px",backgroundColor:u(n),color:b(n),cursor:"pointer",transition:"all 0.2s",position:"relative"},onClick:()=>c(n),onMouseOver:r=>{r.target.style.transform="scale(1.05)",r.target.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)"},onMouseOut:r=>{r.target.style.transform="scale(1)",r.target.style.boxShadow="none"},children:[e.jsxs("div",{style:{width:"40px",height:"40px",marginBottom:"3px",borderRadius:"50%",overflow:"hidden",border:"2px solid #bdc3c7",filter:n.labor===0?"grayscale(50%)":"none"},children:[a?e.jsx("img",{src:a,alt:`${n.name}ì˜ ì´ˆìƒí™”`,style:{width:"100%",height:"100%",objectFit:"cover"},onError:r=>{r.target.style.display="none",r.target.nextSibling.style.display="block"}}):null,e.jsx("div",{style:{display:a?"none":"flex",width:"100%",height:"100%",fontSize:"20px",alignItems:"center",justifyContent:"center",backgroundColor:"#ecf0f1"},children:n.gender==="male"?"ğŸ‘¨":"ğŸ‘©"})]}),e.jsx("div",{style:{fontWeight:"bold",color:b(n),fontSize:"11px",textAlign:"center",marginBottom:"2px",lineHeight:"1.1"},children:n.name}),e.jsxs("div",{style:{color:b(n),fontSize:"10px",marginBottom:"2px"},children:[n.age,"ì„¸"]}),e.jsx("button",{onClick:r=>{r.stopPropagation(),h(n.id,n.name)},style:{backgroundColor:"#e74c3c",color:"white",border:"none",borderRadius:"3px",padding:"2px 4px",fontSize:"9px",cursor:"pointer",transition:"background-color 0.2s",width:"100%"},onMouseOver:r=>r.target.style.backgroundColor="#c0392b",onMouseOut:r=>r.target.style.backgroundColor="#e74c3c",children:"ì¶”ë°©"})]},n.id)})})}),e.jsxs("div",{style:{marginTop:"15px",fontSize:"11px",color:"#7f8c8d",textAlign:"center",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"ğŸ’¡ ë…¸ë™ë ¥: ë‚¨ì„± 2ì¸ë¶„, ì—¬ì„± 2ì¸ë¶„ (12-65ì„¸ë§Œ)"}),e.jsx("span",{children:"ğŸ’¡ ì—¬ì„± ê°€ì„ê¸°: 18-40ì„¸"}),e.jsxs("span",{children:["ğŸ“Š ì´ ",t.length,"ëª…"]})]}),g&&i&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:v,children:e.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto",position:"relative"},onClick:n=>n.stopPropagation(),children:[e.jsx("button",{onClick:v,style:{position:"absolute",top:"15px",right:"20px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666"},children:"Ã—"}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:"120px",height:"120px",margin:"0 auto 20px",borderRadius:"50%",overflow:"hidden",border:"4px solid #bdc3c7",filter:i.labor===0?"grayscale(50%)":"none"},children:l(i)?e.jsx("img",{src:l(i),alt:`${i.name}ì˜ ì´ˆìƒí™”`,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{width:"100%",height:"100%",fontSize:"60px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ecf0f1"},children:i.gender==="male"?"ğŸ‘¨":"ğŸ‘©"})}),e.jsx("h2",{style:{margin:"0 0 10px 0",color:"#2c3e50",fontSize:"24px"},children:i.name}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"25px",textAlign:"left"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"ë‚˜ì´:"})," ",i.age,"ì„¸"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ì„±ë³„:"})," ",i.gender==="male"?"ë‚¨ì„±":"ì—¬ì„±"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ë…¸ë™ë ¥:"})," ",i.labor>0?`${i.labor}ì¸ë¶„`:"ë…¸ë™ ë¶ˆê°€"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ë…¸ë™ ê°€ëŠ¥:"})," ",i.labor>0?"âœ…":"âŒ"]})]}),e.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"25px",textAlign:"left"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",color:"#2c3e50"},children:"ë‚˜ì´ëŒ€ë³„ ì •ë³´"}),i.age<12&&e.jsx("p",{style:{margin:0,color:"#666"},children:"ì–´ë¦°ì´ì…ë‹ˆë‹¤. ì•„ì§ ë…¸ë™ì— ì°¸ì—¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."}),i.age>=12&&i.age<15&&e.jsx("p",{style:{margin:0,color:"#666"},children:"ì²­ì†Œë…„ì…ë‹ˆë‹¤. ì•„ì§ ë…¸ë™ì— ì°¸ì—¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."}),i.age>=15&&i.age<=65&&e.jsx("p",{style:{margin:0,color:"#666"},children:"ì„±ì¸ì…ë‹ˆë‹¤. ë…¸ë™ì— ì°¸ì—¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."}),i.age>65&&e.jsx("p",{style:{margin:0,color:"#666"},children:"ë…¸ì¸ì…ë‹ˆë‹¤. ë…¸ë™ì— ì°¸ì—¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."})]}),e.jsx("button",{onClick:_,style:{backgroundColor:"#e74c3c",color:"white",border:"none",borderRadius:"6px",padding:"12px 24px",fontSize:"16px",cursor:"pointer",transition:"background-color 0.2s",width:"100%"},onMouseOver:n=>n.target.style.backgroundColor="#c0392b",onMouseOut:n=>n.target.style.backgroundColor="#e74c3c",children:"ë§ˆì„ì—ì„œ ì¶”ë°©í•˜ê¸°"})]})]})})]})}function Lt({onNextTurn:t,onFestival:s,onReset:i,autoPlay:o,onToggleAutoPlay:g,gameSpeed:d,onSpeedChange:p,allowMaleBirths:l,allowFemaleBirths:u,onToggleMaleBirths:b,onToggleFemaleBirths:h}){return e.jsxs("div",{style:{border:"2px solid #34495e",borderRadius:"8px",padding:"20px",backgroundColor:"#ecf0f1"},children:[e.jsx("h2",{style:{margin:"0 0 15px 0",color:"#2c3e50"},children:"ê²Œì„ ì»¨íŠ¸ë¡¤"}),e.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginBottom:"15px"},children:[e.jsx("button",{onClick:t,style:{backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"6px",padding:"12px 20px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s",flex:"1",minWidth:"120px"},onMouseOver:c=>c.target.style.backgroundColor="#2980b9",onMouseOut:c=>c.target.style.backgroundColor="#3498db",children:"â­ï¸ ë‹¤ìŒ í„´"}),e.jsx("button",{onClick:s,style:{backgroundColor:"#f39c12",color:"white",border:"none",borderRadius:"6px",padding:"12px 20px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s",flex:"1",minWidth:"120px"},onMouseOver:c=>c.target.style.backgroundColor="#e67e22",onMouseOut:c=>c.target.style.backgroundColor="#f39c12",children:"ğŸ‰ ì¶•ì œ ê°œìµœ"}),e.jsx("button",{onClick:i,style:{backgroundColor:"#e74c3c",color:"white",border:"none",borderRadius:"6px",padding:"12px 20px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s",flex:"1",minWidth:"120px"},onMouseOver:c=>c.target.style.backgroundColor="#c0392b",onMouseOut:c=>c.target.style.backgroundColor="#e74c3c",children:"ğŸ”„ ê²Œì„ ë¦¬ì…‹"})]}),e.jsxs("div",{style:{display:"flex",gap:"20px",marginBottom:"15px",alignItems:"center",flexDirection:"row"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexShrink:0},children:[e.jsx("button",{onClick:g,style:{backgroundColor:o?"#27ae60":"#95a5a6",color:"white",border:"none",borderRadius:"6px",padding:"10px 15px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s",minWidth:"100px"},onMouseOver:c=>c.target.style.backgroundColor=o?"#229954":"#7f8c8d",onMouseOut:c=>c.target.style.backgroundColor=o?"#27ae60":"#95a5a6",children:o?"â¸ï¸ ì¼ì‹œì •ì§€":"â–¶ï¸ ìë™ì§„í–‰"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#2c3e50"},children:"ì†ë„:"}),e.jsxs("select",{value:d,onChange:c=>p(Number(c.target.value)),style:{padding:"8px",borderRadius:"4px",border:"1px solid #bdc3c7",fontSize:"14px",backgroundColor:"white"},children:[e.jsx("option",{value:1e3,children:"1x ë³´í†µ"}),e.jsx("option",{value:100,children:"10x ë¹ ë¦„"}),e.jsx("option",{value:33,children:"30x ë§¤ìš° ë¹ ë¦„"}),e.jsx("option",{value:10,children:"100x ì´ˆê³ ì†"})]})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",backgroundColor:"#fff",padding:"10px",borderRadius:"6px",border:"1px solid #bdc3c7",flexShrink:0},children:[e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#2c3e50"},children:"ì¶œì‚° ì œì–´:"}),e.jsx("button",{onClick:b,style:{backgroundColor:l?"#27ae60":"#e74c3c",color:"white",border:"none",borderRadius:"4px",padding:"8px 12px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s",minWidth:"80px"},onMouseOver:c=>c.target.style.backgroundColor=l?"#229954":"#c0392b",onMouseOut:c=>c.target.style.backgroundColor=l?"#27ae60":"#e74c3c",children:l?"ğŸ‘¶ ë‚¨ì":"ğŸš« ë‚¨ì"}),e.jsx("button",{onClick:h,style:{backgroundColor:u?"#27ae60":"#e74c3c",color:"white",border:"none",borderRadius:"4px",padding:"8px 12px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s",minWidth:"80px"},onMouseOver:c=>c.target.style.backgroundColor=u?"#229954":"#c0392b",onMouseOut:c=>c.target.style.backgroundColor=u?"#27ae60":"#e74c3c",children:u?"ğŸ‘¶ ì—¬ì":"ğŸš« ì—¬ì"})]}),"      "]}),e.jsxs("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#fff",borderRadius:"4px",fontSize:"12px",color:"#7f8c8d"},children:[e.jsx("div",{style:{marginBottom:"5px"},children:e.jsx("strong",{children:"ê²Œì„ ê·œì¹™:"})}),e.jsx("div",{children:"â€¢ 1í„´ = 1ê°œì›”, 1ë…„ = 12í„´"}),e.jsx("div",{children:"â€¢ ì‹ëŸ‰: ì¸êµ¬ 1ëª…ë‹¹ ì›” 1ê°œ ì†Œë¹„"}),e.jsx("div",{children:"â€¢ ë†ì‚¬: ì›” 100ì¸ë¶„ ë…¸ë™ë ¥ í•„ìš”, 10ì›” ìˆ˜í™•"}),e.jsx("div",{children:"â€¢ ì¶œì‚°: ê°€ì„ê¸° ì—¬ì„± ì›” 3% (ì¶•ì œ ì‹œ 10%)"}),e.jsx("div",{children:"â€¢ ì‚¬ë§: ë‚˜ì´/10000 í™•ë¥ ë¡œ ìì—°ì‚¬"}),e.jsx("div",{style:{marginTop:"5px",color:"#e74c3c"},children:"â€¢ ì¶œì‚° ì œì–´: í† ê¸€ ë²„íŠ¼ìœ¼ë¡œ ë‚¨ì/ì—¬ì ì•„ê¸° ì¶œì‚°ì„ ì„ íƒì ìœ¼ë¡œ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤"})]})]})}function qt({logs:t}){const s=m.useRef(null),[i,o]=m.useState(!0),g=()=>{if(s.current){const l=s.current;l.scrollTop=l.scrollHeight,o(!0)}},d=()=>{if(s.current){const{scrollTop:l,scrollHeight:u,clientHeight:b}=s.current,h=Math.abs(u-b-l)<10;o(h)}};m.useEffect(()=>{t&&t.length>0&&g()},[t==null?void 0:t.length]);const p=l=>l.includes("ë‚³ì•˜ìŠµë‹ˆë‹¤")?"ğŸ‘¶":l.includes("ì„¸ìƒì„ ë– ë‚¬ìŠµë‹ˆë‹¤")||l.includes("êµ¶ì–´ ì£½ì—ˆìŠµë‹ˆë‹¤")?"ğŸ’€":l.includes("ì¶”ë°©í–ˆìŠµë‹ˆë‹¤")?"ğŸšª":l.includes("ì¶•ì œ")?"ğŸ‰":l.includes("ìˆ˜í™•")?"ğŸŒ¾":l.includes("ë…„")&&l.includes("ì›”")?"ğŸ“…":"ğŸ“";return e.jsxs("div",{style:{border:"2px solid #34495e",borderRadius:"8px",padding:"20px",backgroundColor:"#ecf0f1",marginTop:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[e.jsxs("h2",{style:{margin:0,color:"#2c3e50"},children:["ê²Œì„ ë¡œê·¸ (",t.length,"ê°œ)"]}),e.jsx("button",{onClick:g,style:{backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",padding:"5px 10px",fontSize:"12px",cursor:"pointer"},children:"ğŸ”½ ë§¨ ì•„ë˜ë¡œ"})]}),e.jsx("div",{ref:s,onScroll:d,style:{height:"200px",overflowY:"auto",border:"1px solid #bdc3c7",borderRadius:"4px",backgroundColor:"white",padding:"10px",fontFamily:"monospace",fontSize:"12px"},children:t.length===0?e.jsx("div",{style:{textAlign:"center",color:"#7f8c8d",padding:"20px"},children:"ì•„ì§ ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤."}):t.map((l,u)=>e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",marginBottom:"5px",padding:"3px 0",borderBottom:"1px solid #f0f0f0"},children:[e.jsx("span",{style:{fontSize:"14px"},children:p(l.msg)}),e.jsx("span",{style:{color:l.msg.includes("ì£½ì—ˆìŠµë‹ˆë‹¤")||l.msg.includes("ì¶”ë°©")?"#e74c3c":l.msg.includes("ë‚³ì•˜ìŠµë‹ˆë‹¤")||l.msg.includes("ì¶•ì œ")?"#27ae60":l.msg.includes("ìˆ˜í™•")?"#f39c12":"#2c3e50"},children:l.msg})]},u))}),e.jsxs("div",{style:{marginTop:"10px",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"11px",color:"#7f8c8d"},children:[e.jsxs("span",{children:["ğŸ’¡ ",i?"ìë™ ìŠ¤í¬ë¡¤ í™œì„±í™”":"ìë™ ìŠ¤í¬ë¡¤ ë¹„í™œì„±í™” (ìœ„ë¡œ ìŠ¤í¬ë¡¤ë¨)"]}),!i&&e.jsx("button",{onClick:g,style:{backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"10px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:l=>l.target.style.backgroundColor="#2980b9",onMouseOut:l=>l.target.style.backgroundColor="#3498db",children:"ë§¨ ì•„ë˜ë¡œ"})]})]})}const I=({data:t,width:s=800,height:i=400,title:o,series:g})=>{const d=m.useRef(null);return m.useEffect(()=>{const l=d.current.getContext("2d");if(l.clearRect(0,0,s,i),!t||!t.population||t.population.length===0){l.strokeStyle="#e0e0e0",l.lineWidth=1;for(let _=0;_<=4;_++){const n=(i-20)*(_/4)+10;l.beginPath(),l.moveTo(40,n),l.lineTo(s-10,n),l.stroke()}l.fillStyle="#999",l.font="14px Arial",l.textAlign="center",l.fillText("ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤",s/2,i/2);return}const u=g.map(_=>_.dataKey==="food"?t[_.dataKey].map(n=>n.value/100):t[_.dataKey].map(n=>n.value)).flat(),b=Math.max(...u,1);l.strokeStyle="#e0e0e0",l.lineWidth=1;for(let _=0;_<=4;_++){const n=(i-20)*(_/4)+10;l.beginPath(),l.moveTo(40,n),l.lineTo(s-10,n),l.stroke()}l.fillStyle="#666",l.font="12px Arial",l.textAlign="right";for(let _=0;_<=4;_++){const n=Math.round(b*(4-_)/4),a=(i-20)*(_/4)+15;l.fillText(n,35,a)}l.textAlign="center";const h=Math.max(1,Math.floor(t.population.length/5));for(let _=0;_<t.population.length;_+=h){const n=40+_/(t.population.length-1)*(s-50);l.fillText(t.population[_].label,n,i-5)}const c=g.map(_=>({label:_.name,color:_.color}));l.font="12px Arial",c.forEach((_,n)=>{const a=s-200,r=20+n*20;l.fillStyle=_.color,l.fillRect(a,r-8,12,12),l.fillStyle="#333",l.textAlign="left",l.fillText(_.label,a+18,r)}),g.map(_=>({data:_.dataKey==="food"?t[_.dataKey].map(n=>({...n,value:n.value/100})):t[_.dataKey],color:_.color,name:_.name})).forEach(_=>{!_.data||_.data.length===0||(l.strokeStyle=_.color,l.lineWidth=2,l.beginPath(),_.data.forEach((n,a)=>{const r=40+a/(_.data.length-1)*(s-50),j=i-20-n.value/b*(i-40)+10;a===0?l.moveTo(r,j):l.lineTo(r,j)}),l.stroke(),l.fillStyle=_.color,_.data.forEach((n,a)=>{const r=40+a/(_.data.length-1)*(s-50),j=i-20-n.value/b*(i-40)+10;l.beginPath(),l.arc(r,j,3,0,2*Math.PI),l.fill()}))})},[t,s,i]),e.jsxs("div",{style:{margin:"10px 0"},children:[e.jsx("h4",{style:{margin:"0 0 10px 0",textAlign:"center"},children:o}),e.jsx("canvas",{ref:d,width:s,height:i,style:{border:"1px solid #ddd",borderRadius:"4px"}})]})},Gt=({villageState:t})=>{const[s,i]=m.useState({population:[],labor:[],food:[],fertileWomen:[],fertileWomenRatio:[],maleChildrenRatio:[],femaleChildrenRatio:[]});return m.useEffect(()=>{if(!t)return;t.turn;const o=t.year;t.month===12&&i(d=>({population:[...d.population,{label:`${o}ë…„`,value:t.people.length}].slice(-100),labor:[...d.labor,{label:`${o}ë…„`,value:t.people.reduce((l,u)=>l+u.labor,0)}].slice(-100),food:[...d.food,{label:`${o}ë…„`,value:t.food}].slice(-100),fertileWomen:[...d.fertileWomen,{label:`${o}ë…„`,value:t.people.filter(l=>l.gender==="female"&&l.age>=18&&l.age<=39).length}].slice(-100),fertileWomenRatio:[...d.fertileWomenRatio,{label:`${o}ë…„`,value:t.people.length>0?(t.people.filter(l=>l.gender==="female"&&l.age>=18&&l.age<=39).length/t.people.length*100).toFixed(1):0}].slice(-100),maleChildrenRatio:[...d.maleChildrenRatio,{label:`${o}ë…„`,value:t.people.length>0?(t.people.filter(l=>l.gender==="male"&&l.age<15).length/t.people.length*100).toFixed(1):0}].slice(-100),femaleChildrenRatio:[...d.femaleChildrenRatio,{label:`${o}ë…„`,value:t.people.length>0?(t.people.filter(l=>l.gender==="female"&&l.age<15).length/t.people.length*100).toFixed(1):0}].slice(-100)}))},[t.year,t.month,t.people.length,t.food]),t?(t.people.length,t.people.filter(o=>o.age>=15&&o.age<=65).length,t.people.filter(o=>o.age<15).length,t.people.filter(o=>o.age>65).length,t.people.reduce((o,g)=>o+g.labor,0),e.jsx("div",{style:{padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",margin:"10px 0"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[e.jsx(I,{data:s,title:"ğŸ“ˆ ë§ˆì„ ë³€í™” í†µí•© ì°¨íŠ¸",width:500,height:350,series:[{dataKey:"population",color:"#4CAF50",name:"ì¸êµ¬"},{dataKey:"labor",color:"#2196F3",name:"ë…¸ë™ë ¥"},{dataKey:"food",color:"#FF9800",name:"ì‹ëŸ‰/100"}]}),e.jsx(I,{data:s,title:"ğŸ“Š ì¸êµ¬ ë¹„ìœ¨ ë³€í™” ì°¨íŠ¸",width:500,height:350,series:[{dataKey:"fertileWomenRatio",color:"#E91E63",name:"ê°€ì„ê¸°ì—¬ì„±ë¹„ìœ¨(%)"},{dataKey:"maleChildrenRatio",color:"#2196F3",name:"ë‚¨ìì–´ë¦°ì´ë¹„ìœ¨(%)"},{dataKey:"femaleChildrenRatio",color:"#FF9800",name:"ì—¬ìì–´ë¦°ì´ë¹„ìœ¨(%)"}]})]})})):null};function Vt(){var r,j,x;const[t,s]=m.useState(null),[i,o]=m.useState(0),[g,d]=m.useState(!0),[p,l]=m.useState(1e3);if(m.useEffect(()=>{const k=E("village-sim-seed",[X()]);s(k)},[]),m.useEffect(()=>{if(!t)return;const k=()=>o(z=>z+1);return t.ctx.bus.on("effects.applied",k),()=>{t.ctx.bus.off("effects.applied",k)}},[t]),m.useEffect(()=>{if(!t||!g)return;const k=setInterval(()=>{t.dispatch("village","nextTurn")},p);return()=>clearInterval(k)},[t,g,p]),!t)return e.jsx("div",{children:"ë¡œë”© ì¤‘..."});const u=()=>{t.dispatch("village","nextTurn")},b=k=>{t.dispatch("village","exile",{personId:k})},h=()=>{t.dispatch("village","holdFestival")},c=()=>{t.dispatch("village","reset")},v=()=>{t.dispatch("village","toggleMaleBirths")},_=()=>{t.dispatch("village","toggleFemaleBirths")},n=()=>{d(!g)},a=k=>{l(k)};return e.jsxs("div",{className:"app",style:{maxWidth:"1200px",margin:"0 auto",padding:"20px",fontFamily:"Arial, sans-serif"},children:[e.jsx("h1",{style:{textAlign:"center",color:"#2c3e50"},children:"ì—ë„ ì‹œëŒ€ ë†ì´Œ ë§ˆì„ ì‹œë®¬ë ˆì´ì…˜"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx(N,{kernel:t,autoPlay:g,gameSpeed:p}),e.jsx(Lt,{onNextTurn:u,onFestival:h,onReset:c,autoPlay:g,onToggleAutoPlay:n,gameSpeed:p,onSpeedChange:a,allowMaleBirths:((r=t.ctx.state.village)==null?void 0:r.allowMaleBirths)??!0,allowFemaleBirths:((j=t.ctx.state.village)==null?void 0:j.allowFemaleBirths)??!0,onToggleMaleBirths:v,onToggleFemaleBirths:_})]}),e.jsx("div",{children:e.jsx(Ht,{people:((x=t.ctx.state.village)==null?void 0:x.people)||[],onExile:b})})]}),e.jsx(Gt,{villageState:t.ctx.state.village}),e.jsx(qt,{logs:t.ctx.log})]})}export{Vt as default};
