import{j as e,r as b}from"./index-Dwc8S6Nr.js";import{c as E}from"./index-oiFZrnAu.js";const M=[{kanji:"ãŠ",kana:"ãŠ",hangul:"ì˜¤"}],W=[{kanji:"æ˜¥",kana:"ã¯ã‚‹",hangul:"í•˜ë£¨"},{kanji:"å¤",kana:"ãªã¤",hangul:"ë‚˜ì“°"},{kanji:"ç§‹",kana:"ã‚ã",hangul:"ì•„í‚¤"},{kanji:"å†¬",kana:"ãµã‚†",hangul:"í›„ìœ "},{kanji:"æ¢…",kana:"ã†ã‚",hangul:"ìš°ë©”"},{kanji:"ç«¹",kana:"ãŸã‘",hangul:"íƒ€ì¼€"},{kanji:"èŠ",kana:"ãã",hangul:"ê¸°ì¿ "},{kanji:"å’²",kana:"ã•ã",hangul:"ì‚¬í‚¤"},{kanji:"èŠ±",kana:"ã¯ãª",hangul:"í•˜ë‚˜"},{kanji:"æ¾",kana:"ã¾ã¤",hangul:"ë§ˆì“°"},{kanji:"åˆ",kana:"ã¯ã¤",hangul:"í•˜ì“°"},{kanji:"å¯Œ",kana:"ã¨ã¿",hangul:"í† ë¯¸"},{kanji:"ç¦",kana:"ãµã",hangul:"í›„ì¿ "},{kanji:"ä¿¡",kana:"ã—ã‚“",hangul:"ì‹ "},{kanji:"å¯¿",kana:"ã²ã•",hangul:"íˆì‚¬"},{kanji:"èŠ³",kana:"ã‚ˆã—",hangul:"ìš”ì‹œ"},{kanji:"å…‰",kana:"ã¿ã¤",hangul:"ë¯¸ì“°"},{kanji:"ç´",kana:"ã“ã¨",hangul:"ì½”í† "},{kanji:"åœ’",kana:"ãã®",hangul:"ì†Œë…¸"},{kanji:"è“®",kana:"ã‚Œã‚“",hangul:"ë Œ"},{kanji:"é›ª",kana:"ã‚†ã",hangul:"ìœ í‚¤"},{kanji:"æ¡œ",kana:"ã•ãã‚‰",hangul:"ì‚¬ì¿ ë¼"},{kanji:"ç´…",kana:"ã¹ã«",hangul:"ë² ë‹ˆ"},{kanji:"ç¶¾",kana:"ã‚ã‚„",hangul:"ì•„ì•¼"},{kanji:"ç¾",kana:"ã¿",hangul:"ë¯¸"},{kanji:"æµ",kana:"ã‚ãã¿",hangul:"ë©”êµ¬ë¯¸"},{kanji:"æ¤¿",kana:"ã¤ã°ã",hangul:"ì“°ë°”í‚¤"},{kanji:"è–",kana:"ã‚ã‚„ã‚",hangul:"ì•„ì•¼ë©”"},{kanji:"è—¤",kana:"ãµã˜",hangul:"í›„ì§€"},{kanji:"è©",kana:"ã¯ã",hangul:"í•˜ê¸°"},{kanji:"è‹‘",kana:"ãˆã‚“",hangul:"ì—”"},{kanji:"ç‘",kana:"ã¿ãš",hangul:"ë¯¸ì¦ˆ"},{kanji:"ç‘ ",kana:"ã‚‹ã‚Š",hangul:"ë£¨ë¦¬"},{kanji:"ç ",kana:"ãŸã¾",hangul:"íƒ€ë§ˆ"},{kanji:"ç‰",kana:"ãŸã¾",hangul:"íƒ€ë§ˆ"},{kanji:"ç³¸",kana:"ã„ã¨",hangul:"ì´í† "},{kanji:"çµ¹",kana:"ãã¬",hangul:"ê¸°ëˆ„"},{kanji:"å½©",kana:"ã‚ã‚„",hangul:"ì•„ì•¼"},{kanji:"èˆ",kana:"ã¾ã„",hangul:"ë§ˆì´"},{kanji:"æ­Œ",kana:"ã†ãŸ",hangul:"ìš°íƒ€"},{kanji:"è©©",kana:"ã†ãŸ",hangul:"ìš°íƒ€"}],A=[{kanji:"å­",kana:"ã“",hangul:"ì½”"},{kanji:"æ±Ÿ",kana:"ãˆ",hangul:"ì—"},{kanji:"ä»£",kana:"ã‚ˆ",hangul:"ìš”"},{kanji:"ä¹ƒ",kana:"ã®",hangul:"ë…¸"},{kanji:"é¦™",kana:"ã‹",hangul:"ì¹´"},{kanji:"æµ",kana:"ãˆ",hangul:"ì—"},{kanji:"ç¾",kana:"ã¿",hangul:"ë¯¸"},{kanji:"æ´¥",kana:"ã¤",hangul:"ì“°"},{kanji:"éŸ³",kana:"ã­",hangul:"ë„¤"},{kanji:"æ",kana:"ãˆ",hangul:"ì—"},{kanji:"ä¸–",kana:"ã‚ˆ",hangul:"ìš”"},{kanji:"é‡Œ",kana:"ã‚Š",hangul:"ë¦¬"},{kanji:"å¥ˆ",kana:"ãª",hangul:"ë‚˜"},{kanji:"åŠ ",kana:"ã‹",hangul:"ì¹´"},{kanji:"å¥³",kana:"ã‚",hangul:"ë©”"},{kanji:"å§«",kana:"ã²ã‚",hangul:"íˆë©”"},{kanji:"å¦™",kana:"ãŸãˆ",hangul:"íƒ€ì—"},{kanji:"ç´€",kana:"ã®ã‚Š",hangul:"ë…¸ë¦¬"},{kanji:"ç‘ ",kana:"ã‚‹",hangul:"ë£¨"},{kanji:"ç ",kana:"ãŸã¾",hangul:"íƒ€ë§ˆ"},{kanji:"ç‘›",kana:"ãˆã„",hangul:"ì—ì´"},{kanji:"ç´",kana:"ã“ã¨",hangul:"ì½”í† "},{kanji:"é¶´",kana:"ã¤ã‚‹",hangul:"ì“°ë£¨"},{kanji:"é¶¯",kana:"ã†ãã„ã™",hangul:"ìš°êµ¬ì´ìŠ¤"}],D=[{kanji:"å¤ª",kana:"ãŸ",hangul:"íƒ€"},{kanji:"æ¬¡",kana:"ã˜",hangul:"ì§€"},{kanji:"ä¸‰",kana:"ã•",hangul:"ì‚¬"},{kanji:"å››",kana:"ã—",hangul:"ì‹œ"},{kanji:"äº”",kana:"ã”",hangul:"ê³ "},{kanji:"å…­",kana:"ã‚ã",hangul:"ë¡œì¿ "},{kanji:"ä¸ƒ",kana:"ã—ã¡",hangul:"ì‹œì¹˜"},{kanji:"ä¹",kana:"ã",hangul:"ì¿ "},{kanji:"å",kana:"ã˜ã‚…ã†",hangul:"ì£¼"},{kanji:"å…µ",kana:"ã¸ã„",hangul:"í—¤ì´"},{kanji:"å‰",kana:"ãã¡",hangul:"ê¸°ì¹˜"},{kanji:"æ¾",kana:"ã¾ã¤",hangul:"ë§ˆì“°"},{kanji:"åŠ©",kana:"ã™ã‘",hangul:"ìŠ¤ì¼€"},{kanji:"è”µ",kana:"ãã†",hangul:"ì¡°"},{kanji:"å¹³",kana:"ã¸ã„",hangul:"í—¤ì´"},{kanji:"å¿ ",kana:"ãŸã ",hangul:"íƒ€ë‹¤"},{kanji:"ç¾©",kana:"ã‚ˆã—",hangul:"ìš”ì‹œ"},{kanji:"å‹‡",kana:"ã„ã•ã‚€",hangul:"ì´ì‚¬ë¬´"},{kanji:"æ­¦",kana:"ãŸã‘",hangul:"íƒ€ì¼€"},{kanji:"åŠ›",kana:"ã‚Šã",hangul:"ë¦¬í‚¤"},{kanji:"æ­£",kana:"ã¾ã•",hangul:"ë§ˆì‚¬"},{kanji:"é•·",kana:"ãªãŒ",hangul:"ë‚˜ê°€"},{kanji:"å¹¸",kana:"ã‚†ã",hangul:"ìœ í‚¤"},{kanji:"ç›´",kana:"ãªãŠ",hangul:"ë‚˜ì˜¤"},{kanji:"æ „",kana:"ãˆã„",hangul:"ì—ì´"},{kanji:"å…‰",kana:"ã¿ã¤",hangul:"ë¯¸ì“°"},{kanji:"ç«œ",kana:"ãŸã¤",hangul:"íƒ€ì“°"},{kanji:"è™",kana:"ã¨ã‚‰",hangul:"ë„ë¼"},{kanji:"é·¹",kana:"ãŸã‹",hangul:"íƒ€ì¹´"},{kanji:"é¯‰",kana:"ã“ã„",hangul:"ì½”ì´"},{kanji:"å‹˜",kana:"ã‹ã‚“",hangul:"ì¹¸"}],U=[{kanji:"éƒ",kana:"ã‚ã†",hangul:"ë¡œ"},{kanji:"åŠ©",kana:"ã™ã‘",hangul:"ìŠ¤ì¼€"},{kanji:"å…µè¡›",kana:"ã¹ãˆ",hangul:"ë² "},{kanji:"å³è¡›é–€",kana:"ãˆã‚‚ã‚“",hangul:"ì—ëª¬"},{kanji:"å‰",kana:"ãã¡",hangul:"ê¸°ì¹˜"},{kanji:"è”µ",kana:"ãã†",hangul:"ì¡°"},{kanji:"ä¹‹åŠ©",kana:"ã®ã™ã‘",hangul:"ë…¸ìŠ¤ì¼€"},{kanji:"ä¸‰éƒ",kana:"ã•ã¶ã‚ã†",hangul:"ì‚¬ë¶€ë¡œ"},{kanji:"å…«",kana:"ã¯ã¡",hangul:"í•˜ì¹˜"},{kanji:"å¹³",kana:"ã¸ã„",hangul:"í—¤ì´"},{kanji:"ç§€",kana:"ã²ã§",hangul:"íˆë°"},{kanji:"æ”¿",kana:"ã¾ã•",hangul:"ë§ˆì‚¬"},{kanji:"æ’",kana:"ã¤ã­",hangul:"ì“°ë„¤"},{kanji:"é«˜",kana:"ãŸã‹",hangul:"íƒ€ì¹´"},{kanji:"ç™»",kana:"ã®ã¼ã‚‹",hangul:"ë…¸ë³´ë£¨"},{kanji:"ç››",kana:"ã‚‚ã‚Š",hangul:"ëª¨ë¦¬"},{kanji:"æ˜¥",kana:"ã¯ã‚‹",hangul:"í•˜ë£¨"},{kanji:"ç§‹",kana:"ã‚ã",hangul:"ì•„í‚¤"},{kanji:"ä¹‹ä¸",kana:"ã®ã˜ã‚‡ã†",hangul:"ë…¸ì¡°"},{kanji:"å¼¥",kana:"ã‚„",hangul:"ì•¼"},{kanji:"ä¸€é¦¬",kana:"ã‹ãšã¾",hangul:"ì¹´ì¦ˆë§ˆ"},{kanji:"æ¸…",kana:"ãã‚ˆ",hangul:"í‚¤ìš”"}],$=[{kanji:"ä¸€",kana:"ã„ã¡",hangul:"ì´ì¹˜"},{kanji:"äºŒ",kana:"ã˜",hangul:"ì§€"},{kanji:"ä¸‰",kana:"ã•ã‚“",hangul:"ì‚°"},{kanji:"å››",kana:"ã—",hangul:"ì‹œ"},{kanji:"äº”",kana:"ã”",hangul:"ê³ "},{kanji:"å…­",kana:"ã‚ã",hangul:"ë¡œì¿ "},{kanji:"ä¸ƒ",kana:"ã—ã¡",hangul:"ì‹œì¹˜"},{kanji:"å…«",kana:"ã¯ã¡",hangul:"í•˜ì¹˜"},{kanji:"ä¹",kana:"ã",hangul:"ì¿ "},{kanji:"å",kana:"ã˜ã‚…ã†",hangul:"ì£¼"}];function O(n){return n[Math.floor(Math.random()*n.length)]}function w(n){const s=n.reduce((a,g)=>a+g.w,0);let i=Math.random()*s;for(const a of n)if((i-=a.w)<=0)return a.v;return n[n.length-1].v}function K(n){return w(n==="female"?[{v:"O_CORE",w:35},{v:"O_CORE_SUFFIX",w:30},{v:"CORE_SUFFIX",w:35}]:[{v:"CORE_SUFFIX",w:25},{v:"O_CORE_SUFFIX",w:20},{v:"O_NUM_SUFFIX",w:20},{v:"O_NUM",w:15},{v:"NUM_SUFFIX",w:20}])}function S(n){return{kanji:n.map(s=>s.kanji).join(""),kana:n.map(s=>s.kana).join(""),hangul:n.map(s=>s.hangul).join("")}}function B(n="female"){const s=K(n);if(n==="female"){const i=O(W),a=O(A);return S(s==="O_CORE"?[O(M),i]:s==="O_CORE_SUFFIX"?[O(M),i,a]:[i,a])}else{const i=O(D),a=O(U),g=O($);switch(s){case"CORE_SUFFIX":return S([i,a]);case"O_CORE_SUFFIX":return S([O(M),i,a]);case"O_NUM_SUFFIX":return S([O(M),g,a]);case"O_NUM":return S([O(M),g]);case"NUM_SUFFIX":return S([g,a])}}}function X(){let n=[],s=1,i=1700,a=1,g=1e3,d=0,p=1,o=!0,u=!0;function m(t){return B(t).hangul}function h(t=null,l=1){return t||(t=Math.random()<.5?"male":"female"),{id:s++,name:m(t),gender:t,age:l,labor:v(t,l)}}function c(t,l=null,r=1){l||(l=Math.random()<.5?"male":"female");const j=B(l);return{id:s++,name:j.hangul,gender:l,age:r,labor:v(l,r)}}function v(t,l){return l<12||l>65?0:2}function _(t){const l=n.findIndex(r=>r.id===t);return l!==-1&&n.splice(l,1)[0]||null}return{id:"village",init(t){var l;if((l=t.state).village??(l.village={people:[],nextId:1,festival:!1,year:1700,turn:1,food:1e3,laborDeficit:0,month:1,allowMaleBirths:!0,allowFemaleBirths:!0}),n=t.state.village.people,s=t.state.village.nextId,i=t.state.village.year,a=t.state.village.turn,g=t.state.village.food,d=t.state.village.laborDeficit,p=t.state.village.month,o=t.state.village.allowMaleBirths,u=t.state.village.allowFemaleBirths,n.length===0){for(let r=0;r<10;r++){const j=Math.floor(Math.random()*50)+15,x=h(null,j);n.push(x)}t.state.village.people=n,t.state.village.nextId=s}},actions:{nextTurn(t,l){const r=[];n.forEach(f=>{p===12&&f.age++,f.labor=v(f.gender,f.age)});const j=n.filter(f=>f.gender==="female"&&f.age>=18&&f.age<=40),x=l.state.village.festival?.1:.03;j.forEach(f=>{if(l.rand.roll(x)){const y=Math.random()<.5?"male":"female";if(y==="male"&&o||y==="female"&&u){const C=c(f.name.split(" ")[0],y);n.push(C),r.push({type:"log",msg:`${f.name}ì´(ê°€) ${C.name}ì„(ë¥¼) ë‚³ì•˜ìŠµë‹ˆë‹¤!`})}}});const k=[];n.forEach(f=>{const y=f.age/1e4;l.rand.roll(y)&&k.push(f)}),k.forEach(f=>{const y=n.findIndex(C=>C.id===f.id);y!==-1&&n.splice(y,1),r.push({type:"log",msg:`${f.name}ì´(ê°€) ì„¸ìƒì„ ë– ë‚¬ìŠµë‹ˆë‹¤. (${f.age}ì„¸)`})}),l.state.village.festival&&(l.state.village.festival=!1);const T=n.length;if(g<T){const f=T-g;for(let y=0;y<f&&n.length>0;y++){const C=Math.floor(Math.random()*n.length),F=n.splice(C,1)[0];F&&r.push({type:"log",msg:`${F.name}ì´(ê°€) êµ¶ì–´ ì£½ì—ˆìŠµë‹ˆë‹¤.`})}g=0}else g-=T;const P=100,R=n.reduce((f,y)=>f+y.labor,0);if(R<P&&(d+=P-R),p===10){const f=Math.max(0,1200-d);g+=f,d=0,r.push({type:"log",msg:`ìˆ˜í™•ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. +${f} ì‹ëŸ‰`})}return p=p===12?1:p+1,a++,a>12&&(a=1,i++),l.state.village.people=n,l.state.village.nextId=s,l.state.village.year=i,l.state.village.turn=a,l.state.village.food=g,l.state.village.laborDeficit=d,l.state.village.month=p,l.state.village.allowMaleBirths=o,l.state.village.allowFemaleBirths=u,r},exile({personId:t},l){const r=_(t);return r?(l.state.village.people=n,[{type:"log",msg:`${r.name}ì„(ë¥¼) ë§ˆì„ì—ì„œ ì¶”ë°©í–ˆìŠµë‹ˆë‹¤.`}]):[{type:"log",msg:"ì¶”ë°©í•  ì‚¬ëŒì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."}]},holdFestival(t,l){return l.state.village.festival=!0,[{type:"log",msg:"ì¶•ì œë¥¼ ê°œìµœí–ˆìŠµë‹ˆë‹¤! ì¶œì‚° í™•ë¥ ì´ ì¦ê°€í•©ë‹ˆë‹¤."}]},toggleMaleBirths(t,l){return o=!o,l.state.village.allowMaleBirths=o,[{type:"log",msg:`ë‚¨ìì•„ì´ ì¶œì‚°: ${o?"í—ˆìš©":"ê¸ˆì§€"}`}]},toggleFemaleBirths(t,l){return u=!u,l.state.village.allowFemaleBirths=u,[{type:"log",msg:`ì—¬ìì•„ì´ ì¶œì‚°: ${u?"í—ˆìš©":"ê¸ˆì§€"}`}]},reset(t,l){i=1700,a=1,g=1e3,d=0,p=1,n=[],s=1,o=!0,u=!0;for(let r=0;r<10;r++){const j=Math.floor(Math.random()*50)+15,x=h(null,j);n.push(x)}return l.state.village.people=n,l.state.village.nextId=s,l.state.village.year=i,l.state.village.turn=a,l.state.village.food=g,l.state.village.laborDeficit=d,l.state.village.month=p,l.state.village.festival=!1,l.state.village.allowMaleBirths=o,l.state.village.allowFemaleBirths=u,[{type:"log",msg:"ê²Œì„ì„ ë¦¬ì…‹í–ˆìŠµë‹ˆë‹¤."}]},addFood({amount:t},l){return g+=t,l.state.village.food=g,[{type:"log",msg:`ì‹ëŸ‰ ${t} ì¶”ê°€`}]}},update(t,l){},save(){return{people:n.map(t=>({...t})),nextId:s,year:i,turn:a,food:g,laborDeficit:d,month:p,allowMaleBirths:o,allowFemaleBirths:u}},load(t){t&&(n=t.people||[],s=t.nextId||1,i=t.year||1700,a=t.turn||1,g=t.food||1e3,d=t.laborDeficit||0,p=t.month||1,o=t.allowMaleBirths!==void 0?t.allowMaleBirths:!0,u=t.allowFemaleBirths!==void 0?t.allowFemaleBirths:!0)}}}function N({kernel:n,autoPlay:s,gameSpeed:i}){const a=n.ctx.state.village;if(!a)return e.jsx("div",{children:"ë¡œë”© ì¤‘..."});const g=a.people||[],d=g.reduce((h,c)=>h+c.labor,0),p=g.filter(h=>h.gender==="female"&&h.age>=15&&h.age<=40).length,o=g.filter(h=>h.age<15).length,u=g.filter(h=>h.age>60).length,m=["1ì›”","2ì›”","3ì›”","4ì›”","5ì›”","6ì›”","7ì›”","8ì›”","9ì›”","10ì›”","11ì›”","12ì›”"];return e.jsxs("div",{style:{border:"2px solid #34495e",borderRadius:"8px",padding:"20px",backgroundColor:"#ecf0f1",marginBottom:"20px"},children:[e.jsx("h2",{style:{margin:"0 0 15px 0",color:"#2c3e50"},children:"ë§ˆì„ ìƒíƒœ"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"16px"},children:"ê¸°ë³¸ ì •ë³´"}),e.jsxs("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"ì—°ë„:"})," ",a.year,"ë…„"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ì›”:"})," ",m[a.turn-1]]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ì´ ì¸êµ¬:"})," ",g.length,"ëª…"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ì´ ë…¸ë™ë ¥:"})," ",d,"ì¸ë¶„"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"16px"},children:"ì¸êµ¬ êµ¬ì„±"}),e.jsxs("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"ê°€ì„ê¸° ì—¬ì„±:"})," ",p,"ëª…"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ì–´ë¦°ì´ (15ì„¸ ë¯¸ë§Œ):"})," ",o,"ëª…"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ë…¸ì¸ (60ì„¸ ì´ˆê³¼):"})," ",u,"ëª…"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ë…¸ë™ ê°€ëŠ¥ ì¸êµ¬:"})," ",g.length-o-u,"ëª…"]})]})]})]}),e.jsxs("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#fff",borderRadius:"4px"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"16px"},children:"ì‹ëŸ‰ í˜„í™©"}),e.jsxs("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"í˜„ì¬ ì‹ëŸ‰:"})," ",a.food,"ê°œ"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ì›” ì†Œë¹„ëŸ‰:"})," ",g.length,"ê°œ"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ë…¸ë™ë ¥ ë¶€ì¡±:"})," ",a.laborDeficit,"ì¸ë¶„"]}),e.jsx("div",{style:{color:a.food<g.length?"#e74c3c":"#27ae60",fontWeight:"bold"},children:a.food<g.length?"âš ï¸ ì‹ëŸ‰ ë¶€ì¡±!":"âœ… ì‹ëŸ‰ ì¶©ë¶„"})]})]}),a.festival&&e.jsx("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#f39c12",color:"white",borderRadius:"4px",textAlign:"center",fontWeight:"bold"},children:"ğŸ‰ ì¶•ì œ ì§„í–‰ ì¤‘! ì¶œì‚° í™•ë¥  ì¦ê°€"}),e.jsxs("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:s?"#27ae60":"#95a5a6",color:"white",borderRadius:"4px",textAlign:"center",fontWeight:"bold"},children:[s?"ğŸ”„ ìë™ ì§„í–‰ ì¤‘":"â¸ï¸ ì¼ì‹œì •ì§€ë¨",s&&` (${i===1e3?"1x ë³´í†µ":i===100?"10x ë¹ ë¦„":i===33?"30x ë§¤ìš° ë¹ ë¦„":"100x ì´ˆê³ ì†"})`]})]})}const H="/nemonori/assets/2025-08-13_00075_-B28ohnct.jpg",L=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"})),q="/nemonori/assets/2025-08-13_00076_-C2PEqnjU.jpg",G=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"})),Q="/nemonori/assets/2025-08-13_00081_-Dsy-ldUy.jpg",Y=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"})),V="/nemonori/assets/2025-08-13_00088_-BW8jwbZ7.jpg",Z=Object.freeze(Object.defineProperty({__proto__:null,default:V},Symbol.toStringTag,{value:"Module"})),J="/nemonori/assets/2025-08-13_00089_-D-d2kzD1.jpg",ee=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"})),ne="/nemonori/assets/2025-08-13_00050_-DJR3CHH6.jpg",te=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"})),oe="/nemonori/assets/2025-08-13_00051_-lnpuWhXq.jpg",le=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"})),ae="/nemonori/assets/2025-08-13_00052_-BjR2eDyp.jpg",re=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"})),ie="/nemonori/assets/2025-08-13_00053_-DB0p0vQU.jpg",se=Object.freeze(Object.defineProperty({__proto__:null,default:ie},Symbol.toStringTag,{value:"Module"})),ge="/nemonori/assets/2025-08-13_00054_-OEDqAO-a.jpg",_e=Object.freeze(Object.defineProperty({__proto__:null,default:ge},Symbol.toStringTag,{value:"Module"})),ce="/nemonori/assets/2025-08-13_00055_-B7VRisCC.jpg",de=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"})),ue="/nemonori/assets/2025-08-13_00056_-CsBmnecW.jpg",pe=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"})),fe="/nemonori/assets/2025-08-13_00057_-DHRmvI41.jpg",je=Object.freeze(Object.defineProperty({__proto__:null,default:fe},Symbol.toStringTag,{value:"Module"})),he="/nemonori/assets/2025-08-13_00058_-D92EvgCR.jpg",me=Object.freeze(Object.defineProperty({__proto__:null,default:he},Symbol.toStringTag,{value:"Module"})),be="/nemonori/assets/2025-08-13_00059_-D57OsbTj.jpg",xe=Object.freeze(Object.defineProperty({__proto__:null,default:be},Symbol.toStringTag,{value:"Module"})),ke="/nemonori/assets/2025-08-13_00060_-IFwclxHR.jpg",ye=Object.freeze(Object.defineProperty({__proto__:null,default:ke},Symbol.toStringTag,{value:"Module"})),ve="/nemonori/assets/2025-08-13_00061_-DslnoDoV.jpg",Oe=Object.freeze(Object.defineProperty({__proto__:null,default:ve},Symbol.toStringTag,{value:"Module"})),Se="/nemonori/assets/2025-08-13_00062_-D08PWGaD.jpg",Ce=Object.freeze(Object.defineProperty({__proto__:null,default:Se},Symbol.toStringTag,{value:"Module"})),Me="/nemonori/assets/2025-08-13_00063_-IpQWDEuF.jpg",Te=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"})),ze="/nemonori/assets/2025-08-13_00064_-ycqgLnlf.jpg",Pe=Object.freeze(Object.defineProperty({__proto__:null,default:ze},Symbol.toStringTag,{value:"Module"})),Re="/nemonori/assets/2025-08-13_00065_-CMXInUHK.jpg",Fe=Object.freeze(Object.defineProperty({__proto__:null,default:Re},Symbol.toStringTag,{value:"Module"})),we="/nemonori/assets/2025-08-13_00066_-DcS4OYOU.jpg",Be=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"})),Ie="/nemonori/assets/2025-08-13_00067_-CGiTirho.jpg",Ee=Object.freeze(Object.defineProperty({__proto__:null,default:Ie},Symbol.toStringTag,{value:"Module"})),We="/nemonori/assets/2025-08-13_00068_-CPYshIB3.jpg",Ae=Object.freeze(Object.defineProperty({__proto__:null,default:We},Symbol.toStringTag,{value:"Module"})),De="/nemonori/assets/2025-08-13_00069_-Cjw3i65m.jpg",Ue=Object.freeze(Object.defineProperty({__proto__:null,default:De},Symbol.toStringTag,{value:"Module"})),$e="/nemonori/assets/2025-08-13_00070_-FB69Ohh-.jpg",Ke=Object.freeze(Object.defineProperty({__proto__:null,default:$e},Symbol.toStringTag,{value:"Module"})),Xe="/nemonori/assets/2025-08-13_00071_-xWQhWTfV.jpg",Ne=Object.freeze(Object.defineProperty({__proto__:null,default:Xe},Symbol.toStringTag,{value:"Module"})),He="/nemonori/assets/2025-08-13_00072_-B2wJktBs.jpg",Le=Object.freeze(Object.defineProperty({__proto__:null,default:He},Symbol.toStringTag,{value:"Module"})),qe="/nemonori/assets/2025-08-13_00073_-fGho_QQ2.jpg",Ge=Object.freeze(Object.defineProperty({__proto__:null,default:qe},Symbol.toStringTag,{value:"Module"})),Qe="/nemonori/assets/2025-08-13_00074_-CJiqGcsh.jpg",Ye=Object.freeze(Object.defineProperty({__proto__:null,default:Qe},Symbol.toStringTag,{value:"Module"})),Ve="/nemonori/assets/2025-08-13_00077_-DeFjwSkW.jpg",Ze=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"})),Je="/nemonori/assets/2025-08-13_00078_-hO8jZgbg.jpg",en=Object.freeze(Object.defineProperty({__proto__:null,default:Je},Symbol.toStringTag,{value:"Module"})),nn="/nemonori/assets/2025-08-13_00079_-ECjOwd3z.jpg",tn=Object.freeze(Object.defineProperty({__proto__:null,default:nn},Symbol.toStringTag,{value:"Module"})),on="/nemonori/assets/2025-08-13_00080_-ClraitSR.jpg",ln=Object.freeze(Object.defineProperty({__proto__:null,default:on},Symbol.toStringTag,{value:"Module"})),an="/nemonori/assets/2025-08-13_00082_-BqLQbDhR.jpg",rn=Object.freeze(Object.defineProperty({__proto__:null,default:an},Symbol.toStringTag,{value:"Module"})),sn="/nemonori/assets/2025-08-13_00083_-DIpW02zZ.jpg",gn=Object.freeze(Object.defineProperty({__proto__:null,default:sn},Symbol.toStringTag,{value:"Module"})),_n="/nemonori/assets/2025-08-13_00084_-Cf5z0qHW.jpg",cn=Object.freeze(Object.defineProperty({__proto__:null,default:_n},Symbol.toStringTag,{value:"Module"})),dn="/nemonori/assets/2025-08-13_00085_-CKOXG9Zm.jpg",un=Object.freeze(Object.defineProperty({__proto__:null,default:dn},Symbol.toStringTag,{value:"Module"})),pn="/nemonori/assets/2025-08-13_00087_-Bq3rg1Bf.jpg",fn=Object.freeze(Object.defineProperty({__proto__:null,default:pn},Symbol.toStringTag,{value:"Module"})),jn="/nemonori/assets/2025-08-13_00091_-CcGjxWbd.jpg",hn=Object.freeze(Object.defineProperty({__proto__:null,default:jn},Symbol.toStringTag,{value:"Module"})),mn="/nemonori/assets/2025-08-13_00093_-CogC2_u7.jpg",bn=Object.freeze(Object.defineProperty({__proto__:null,default:mn},Symbol.toStringTag,{value:"Module"})),xn="/nemonori/assets/2025-08-13_00037_-C4KKPtC6.jpg",kn=Object.freeze(Object.defineProperty({__proto__:null,default:xn},Symbol.toStringTag,{value:"Module"})),yn="/nemonori/assets/2025-08-13_00038_-D41k4fNp.jpg",vn=Object.freeze(Object.defineProperty({__proto__:null,default:yn},Symbol.toStringTag,{value:"Module"})),On="/nemonori/assets/2025-08-13_00039_-C5xI7rD9.jpg",Sn=Object.freeze(Object.defineProperty({__proto__:null,default:On},Symbol.toStringTag,{value:"Module"})),Cn="/nemonori/assets/2025-08-13_00040_-0sf-oWcM.jpg",Mn=Object.freeze(Object.defineProperty({__proto__:null,default:Cn},Symbol.toStringTag,{value:"Module"})),Tn="/nemonori/assets/2025-08-13_00041_-X42O97hK.jpg",zn=Object.freeze(Object.defineProperty({__proto__:null,default:Tn},Symbol.toStringTag,{value:"Module"})),Pn="/nemonori/assets/2025-08-13_00042_-B3zs8tSn.jpg",Rn=Object.freeze(Object.defineProperty({__proto__:null,default:Pn},Symbol.toStringTag,{value:"Module"})),Fn="/nemonori/assets/2025-08-13_00043_-2YpN1l2s.jpg",wn=Object.freeze(Object.defineProperty({__proto__:null,default:Fn},Symbol.toStringTag,{value:"Module"})),Bn="/nemonori/assets/2025-08-13_00044_-B3BlxxX_.jpg",In=Object.freeze(Object.defineProperty({__proto__:null,default:Bn},Symbol.toStringTag,{value:"Module"})),En="/nemonori/assets/2025-08-13_00045_-OWz8xbpt.jpg",Wn=Object.freeze(Object.defineProperty({__proto__:null,default:En},Symbol.toStringTag,{value:"Module"})),An="/nemonori/assets/2025-08-13_00046_-aGqFoQYD.jpg",Dn=Object.freeze(Object.defineProperty({__proto__:null,default:An},Symbol.toStringTag,{value:"Module"})),Un="/nemonori/assets/2025-08-13_00047_-D-0K6AcX.jpg",$n=Object.freeze(Object.defineProperty({__proto__:null,default:Un},Symbol.toStringTag,{value:"Module"})),Kn="/nemonori/assets/2025-08-13_00048_-CYQ0ix10.jpg",Xn=Object.freeze(Object.defineProperty({__proto__:null,default:Kn},Symbol.toStringTag,{value:"Module"})),Nn="/nemonori/assets/2025-08-13_00049_-Dcng7QTS.jpg",Hn=Object.freeze(Object.defineProperty({__proto__:null,default:Nn},Symbol.toStringTag,{value:"Module"}));function Ln({people:n,onExile:s}){const[i,a]=b.useState(null),[g,d]=b.useState(!1),p=b.useMemo(()=>{const t=Object.assign({"../../images/boy/2025-08-13_00075_.jpg":L,"../../images/boy/2025-08-13_00076_.jpg":G,"../../images/boy/2025-08-13_00081_.jpg":Y,"../../images/boy/2025-08-13_00088_.jpg":Z,"../../images/boy/2025-08-13_00089_.jpg":ee,"../../images/female/2025-08-13_00050_.jpg":te,"../../images/female/2025-08-13_00051_.jpg":le,"../../images/female/2025-08-13_00052_.jpg":re,"../../images/female/2025-08-13_00053_.jpg":se,"../../images/female/2025-08-13_00054_.jpg":_e,"../../images/female/2025-08-13_00055_.jpg":de,"../../images/female/2025-08-13_00056_.jpg":pe,"../../images/female/2025-08-13_00057_.jpg":je,"../../images/female/2025-08-13_00058_.jpg":me,"../../images/female/2025-08-13_00059_.jpg":xe,"../../images/female/2025-08-13_00060_.jpg":ye,"../../images/female/2025-08-13_00061_.jpg":Oe,"../../images/female/2025-08-13_00062_.jpg":Ce,"../../images/female/2025-08-13_00063_.jpg":Te,"../../images/female/2025-08-13_00064_.jpg":Pe,"../../images/female/2025-08-13_00065_.jpg":Fe,"../../images/female/2025-08-13_00066_.jpg":Be,"../../images/female/2025-08-13_00067_.jpg":Ee,"../../images/female/2025-08-13_00068_.jpg":Ae,"../../images/female/2025-08-13_00069_.jpg":Ue,"../../images/female/2025-08-13_00070_.jpg":Ke,"../../images/female/2025-08-13_00071_.jpg":Ne,"../../images/female/2025-08-13_00072_.jpg":Le,"../../images/girl/2025-08-13_00073_.jpg":Ge,"../../images/girl/2025-08-13_00074_.jpg":Ye,"../../images/girl/2025-08-13_00077_.jpg":Ze,"../../images/girl/2025-08-13_00078_.jpg":en,"../../images/girl/2025-08-13_00079_.jpg":tn,"../../images/girl/2025-08-13_00080_.jpg":ln,"../../images/girl/2025-08-13_00082_.jpg":rn,"../../images/girl/2025-08-13_00083_.jpg":gn,"../../images/girl/2025-08-13_00084_.jpg":cn,"../../images/girl/2025-08-13_00085_.jpg":un,"../../images/girl/2025-08-13_00087_.jpg":fn,"../../images/girl/2025-08-13_00091_.jpg":hn,"../../images/girl/2025-08-13_00093_.jpg":bn,"../../images/male/2025-08-13_00037_.jpg":kn,"../../images/male/2025-08-13_00038_.jpg":vn,"../../images/male/2025-08-13_00039_.jpg":Sn,"../../images/male/2025-08-13_00040_.jpg":Mn,"../../images/male/2025-08-13_00041_.jpg":zn,"../../images/male/2025-08-13_00042_.jpg":Rn,"../../images/male/2025-08-13_00043_.jpg":wn,"../../images/male/2025-08-13_00044_.jpg":In,"../../images/male/2025-08-13_00045_.jpg":Wn,"../../images/male/2025-08-13_00046_.jpg":Dn,"../../images/male/2025-08-13_00047_.jpg":$n,"../../images/male/2025-08-13_00048_.jpg":Xn,"../../images/male/2025-08-13_00049_.jpg":Hn}),l={male:[],female:[],boy:[],girl:[]};return Object.keys(t).forEach(r=>{const j=r.split("/").pop(),x=t[r].default;r.includes("/male/")?l.male.push({fileName:j,url:x}):r.includes("/female/")?l.female.push({fileName:j,url:x}):r.includes("/boy/")?l.boy.push({fileName:j,url:x}):r.includes("/girl/")&&l.girl.push({fileName:j,url:x})}),l},[]),o=t=>{const r=t.age>=12?t.gender==="male"?"male":"female":t.gender==="male"?"boy":"girl",j=p[r]||[];if(j.length===0)return null;const x=t.id%j.length;return j[x].url},u=t=>{const{gender:l,age:r}=t;return r>65?"rgba(192, 192, 192, 0.7)":r>=12?l==="male"?"rgba(44, 62, 80, 0.7)":"rgba(149, 165, 166, 0.7)":l==="male"?"rgba(135, 206, 235, 0.7)":"rgba(255, 182, 193, 0.7)"},m=t=>{const{gender:l,age:r}=t;return r>65?"#2c3e50":r>=12&&l==="male"?"#ffffff":"#2c3e50"},h=(t,l)=>{s(t)},c=t=>{a(t),d(!0)},v=()=>{d(!1),a(null)},_=()=>{i&&(s(i.id),v())};return e.jsxs("div",{style:{border:"2px solid #34495e",borderRadius:"8px",padding:"20px",backgroundColor:"#ecf0f1"},children:[e.jsxs("h2",{style:{margin:"0 0 15px 0",color:"#2c3e50"},children:["ë§ˆì„ ì‚¬ëŒë“¤ (",n.length,"ëª…)"]}),n.length===0?e.jsx("div",{style:{textAlign:"center",color:"#7f8c8d",padding:"20px"},children:"ë§ˆì„ì— ì‚¬ëŒì´ ì—†ìŠµë‹ˆë‹¤."}):e.jsx("div",{style:{height:"632px",minHeight:"400px",overflowY:"auto",border:"1px solid #bdc3c7",borderRadius:"4px",backgroundColor:"white",padding:"15px"},children:e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(90px, 1fr))",gap:"6px",alignItems:"start"},children:n.map(t=>{const l=o(t);return e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"6px 4px",border:`2px solid ${t.labor>0?"#27ae60":"#e74c3c"}`,borderRadius:"6px",backgroundColor:u(t),color:m(t),cursor:"pointer",transition:"all 0.2s",position:"relative"},onClick:()=>c(t),onMouseOver:r=>{r.target.style.transform="scale(1.05)",r.target.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)"},onMouseOut:r=>{r.target.style.transform="scale(1)",r.target.style.boxShadow="none"},children:[e.jsxs("div",{style:{width:"40px",height:"40px",marginBottom:"3px",borderRadius:"50%",overflow:"hidden",border:"2px solid #bdc3c7",filter:t.labor===0?"grayscale(50%)":"none"},children:[l?e.jsx("img",{src:l,alt:`${t.name}ì˜ ì´ˆìƒí™”`,style:{width:"100%",height:"100%",objectFit:"cover"},onError:r=>{r.target.style.display="none",r.target.nextSibling.style.display="block"}}):null,e.jsx("div",{style:{display:l?"none":"flex",width:"100%",height:"100%",fontSize:"20px",alignItems:"center",justifyContent:"center",backgroundColor:"#ecf0f1"},children:t.gender==="male"?"ğŸ‘¨":"ğŸ‘©"})]}),e.jsx("div",{style:{fontWeight:"bold",color:m(t),fontSize:"11px",textAlign:"center",marginBottom:"2px",lineHeight:"1.1"},children:t.name}),e.jsxs("div",{style:{color:m(t),fontSize:"10px",marginBottom:"2px"},children:[t.age,"ì„¸"]}),e.jsx("button",{onClick:r=>{r.stopPropagation(),h(t.id,t.name)},style:{backgroundColor:"#e74c3c",color:"white",border:"none",borderRadius:"3px",padding:"2px 4px",fontSize:"9px",cursor:"pointer",transition:"background-color 0.2s",width:"100%"},onMouseOver:r=>r.target.style.backgroundColor="#c0392b",onMouseOut:r=>r.target.style.backgroundColor="#e74c3c",children:"ì¶”ë°©"})]},t.id)})})}),e.jsxs("div",{style:{marginTop:"15px",fontSize:"11px",color:"#7f8c8d",textAlign:"center",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"ğŸ’¡ ë…¸ë™ë ¥: ë‚¨ì„± 2ì¸ë¶„, ì—¬ì„± 2ì¸ë¶„ (12-65ì„¸ë§Œ)"}),e.jsx("span",{children:"ğŸ’¡ ì—¬ì„± ê°€ì„ê¸°: 18-40ì„¸"}),e.jsxs("span",{children:["ğŸ“Š ì´ ",n.length,"ëª…"]})]}),g&&i&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:v,children:e.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto",position:"relative"},onClick:t=>t.stopPropagation(),children:[e.jsx("button",{onClick:v,style:{position:"absolute",top:"15px",right:"20px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666"},children:"Ã—"}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:"120px",height:"120px",margin:"0 auto 20px",borderRadius:"50%",overflow:"hidden",border:"4px solid #bdc3c7",filter:i.labor===0?"grayscale(50%)":"none"},children:o(i)?e.jsx("img",{src:o(i),alt:`${i.name}ì˜ ì´ˆìƒí™”`,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{width:"100%",height:"100%",fontSize:"60px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ecf0f1"},children:i.gender==="male"?"ğŸ‘¨":"ğŸ‘©"})}),e.jsx("h2",{style:{margin:"0 0 10px 0",color:"#2c3e50",fontSize:"24px"},children:i.name}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"25px",textAlign:"left"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"ë‚˜ì´:"})," ",i.age,"ì„¸"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ì„±ë³„:"})," ",i.gender==="male"?"ë‚¨ì„±":"ì—¬ì„±"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ë…¸ë™ë ¥:"})," ",i.labor>0?`${i.labor}ì¸ë¶„`:"ë…¸ë™ ë¶ˆê°€"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ë…¸ë™ ê°€ëŠ¥:"})," ",i.labor>0?"âœ…":"âŒ"]})]}),e.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"25px",textAlign:"left"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",color:"#2c3e50"},children:"ë‚˜ì´ëŒ€ë³„ ì •ë³´"}),i.age<12&&e.jsx("p",{style:{margin:0,color:"#666"},children:"ì–´ë¦°ì´ì…ë‹ˆë‹¤. ì•„ì§ ë…¸ë™ì— ì°¸ì—¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."}),i.age>=12&&i.age<15&&e.jsx("p",{style:{margin:0,color:"#666"},children:"ì²­ì†Œë…„ì…ë‹ˆë‹¤. ì•„ì§ ë…¸ë™ì— ì°¸ì—¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."}),i.age>=15&&i.age<=65&&e.jsx("p",{style:{margin:0,color:"#666"},children:"ì„±ì¸ì…ë‹ˆë‹¤. ë…¸ë™ì— ì°¸ì—¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."}),i.age>65&&e.jsx("p",{style:{margin:0,color:"#666"},children:"ë…¸ì¸ì…ë‹ˆë‹¤. ë…¸ë™ì— ì°¸ì—¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."})]}),e.jsx("button",{onClick:_,style:{backgroundColor:"#e74c3c",color:"white",border:"none",borderRadius:"6px",padding:"12px 24px",fontSize:"16px",cursor:"pointer",transition:"background-color 0.2s",width:"100%"},onMouseOver:t=>t.target.style.backgroundColor="#c0392b",onMouseOut:t=>t.target.style.backgroundColor="#e74c3c",children:"ë§ˆì„ì—ì„œ ì¶”ë°©í•˜ê¸°"})]})]})})]})}function qn({onNextTurn:n,onFestival:s,onReset:i,autoPlay:a,onToggleAutoPlay:g,gameSpeed:d,onSpeedChange:p,allowMaleBirths:o,allowFemaleBirths:u,onToggleMaleBirths:m,onToggleFemaleBirths:h}){return e.jsxs("div",{style:{border:"2px solid #34495e",borderRadius:"8px",padding:"20px",backgroundColor:"#ecf0f1"},children:[e.jsx("h2",{style:{margin:"0 0 15px 0",color:"#2c3e50"},children:"ê²Œì„ ì»¨íŠ¸ë¡¤"}),e.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginBottom:"15px"},children:[e.jsx("button",{onClick:n,style:{backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"6px",padding:"12px 20px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s",flex:"1",minWidth:"120px"},onMouseOver:c=>c.target.style.backgroundColor="#2980b9",onMouseOut:c=>c.target.style.backgroundColor="#3498db",children:"â­ï¸ ë‹¤ìŒ í„´"}),e.jsx("button",{onClick:s,style:{backgroundColor:"#f39c12",color:"white",border:"none",borderRadius:"6px",padding:"12px 20px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s",flex:"1",minWidth:"120px"},onMouseOver:c=>c.target.style.backgroundColor="#e67e22",onMouseOut:c=>c.target.style.backgroundColor="#f39c12",children:"ğŸ‰ ì¶•ì œ ê°œìµœ"}),e.jsx("button",{onClick:i,style:{backgroundColor:"#e74c3c",color:"white",border:"none",borderRadius:"6px",padding:"12px 20px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s",flex:"1",minWidth:"120px"},onMouseOver:c=>c.target.style.backgroundColor="#c0392b",onMouseOut:c=>c.target.style.backgroundColor="#e74c3c",children:"ğŸ”„ ê²Œì„ ë¦¬ì…‹"})]}),e.jsxs("div",{style:{display:"flex",gap:"20px",marginBottom:"15px",alignItems:"center",flexDirection:"row"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexShrink:0},children:[e.jsx("button",{onClick:g,style:{backgroundColor:a?"#27ae60":"#95a5a6",color:"white",border:"none",borderRadius:"6px",padding:"10px 15px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s",minWidth:"100px"},onMouseOver:c=>c.target.style.backgroundColor=a?"#229954":"#7f8c8d",onMouseOut:c=>c.target.style.backgroundColor=a?"#27ae60":"#95a5a6",children:a?"â¸ï¸ ì¼ì‹œì •ì§€":"â–¶ï¸ ìë™ì§„í–‰"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#2c3e50"},children:"ì†ë„:"}),e.jsxs("select",{value:d,onChange:c=>p(Number(c.target.value)),style:{padding:"8px",borderRadius:"4px",border:"1px solid #bdc3c7",fontSize:"14px",backgroundColor:"white"},children:[e.jsx("option",{value:1e3,children:"1x ë³´í†µ"}),e.jsx("option",{value:100,children:"10x ë¹ ë¦„"}),e.jsx("option",{value:33,children:"30x ë§¤ìš° ë¹ ë¦„"}),e.jsx("option",{value:10,children:"100x ì´ˆê³ ì†"})]})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",backgroundColor:"#fff",padding:"10px",borderRadius:"6px",border:"1px solid #bdc3c7",flexShrink:0},children:[e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#2c3e50"},children:"ì¶œì‚° ì œì–´:"}),e.jsx("button",{onClick:m,style:{backgroundColor:o?"#27ae60":"#e74c3c",color:"white",border:"none",borderRadius:"4px",padding:"8px 12px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s",minWidth:"80px"},onMouseOver:c=>c.target.style.backgroundColor=o?"#229954":"#c0392b",onMouseOut:c=>c.target.style.backgroundColor=o?"#27ae60":"#e74c3c",children:o?"ğŸ‘¶ ë‚¨ì":"ğŸš« ë‚¨ì"}),e.jsx("button",{onClick:h,style:{backgroundColor:u?"#27ae60":"#e74c3c",color:"white",border:"none",borderRadius:"4px",padding:"8px 12px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s",minWidth:"80px"},onMouseOver:c=>c.target.style.backgroundColor=u?"#229954":"#c0392b",onMouseOut:c=>c.target.style.backgroundColor=u?"#27ae60":"#e74c3c",children:u?"ğŸ‘¶ ì—¬ì":"ğŸš« ì—¬ì"})]}),"      "]}),e.jsxs("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#fff",borderRadius:"4px",fontSize:"12px",color:"#7f8c8d"},children:[e.jsx("div",{style:{marginBottom:"5px"},children:e.jsx("strong",{children:"ê²Œì„ ê·œì¹™:"})}),e.jsx("div",{children:"â€¢ 1í„´ = 1ê°œì›”, 1ë…„ = 12í„´"}),e.jsx("div",{children:"â€¢ ì‹ëŸ‰: ì¸êµ¬ 1ëª…ë‹¹ ì›” 1ê°œ ì†Œë¹„"}),e.jsx("div",{children:"â€¢ ë†ì‚¬: ì›” 100ì¸ë¶„ ë…¸ë™ë ¥ í•„ìš”, 10ì›” ìˆ˜í™•"}),e.jsx("div",{children:"â€¢ ì¶œì‚°: ê°€ì„ê¸° ì—¬ì„± ì›” 3% (ì¶•ì œ ì‹œ 10%)"}),e.jsx("div",{children:"â€¢ ì‚¬ë§: ë‚˜ì´/10000 í™•ë¥ ë¡œ ìì—°ì‚¬"}),e.jsx("div",{style:{marginTop:"5px",color:"#e74c3c"},children:"â€¢ ì¶œì‚° ì œì–´: í† ê¸€ ë²„íŠ¼ìœ¼ë¡œ ë‚¨ì/ì—¬ì ì•„ê¸° ì¶œì‚°ì„ ì„ íƒì ìœ¼ë¡œ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤"})]})]})}function Gn({logs:n}){const s=b.useRef(null),[i,a]=b.useState(!0),g=()=>{if(s.current){const o=s.current;o.scrollTop=o.scrollHeight,a(!0)}},d=()=>{if(s.current){const{scrollTop:o,scrollHeight:u,clientHeight:m}=s.current,h=Math.abs(u-m-o)<10;a(h)}};b.useEffect(()=>{n&&n.length>0&&g()},[n==null?void 0:n.length]);const p=o=>o.includes("ë‚³ì•˜ìŠµë‹ˆë‹¤")?"ğŸ‘¶":o.includes("ì„¸ìƒì„ ë– ë‚¬ìŠµë‹ˆë‹¤")||o.includes("êµ¶ì–´ ì£½ì—ˆìŠµë‹ˆë‹¤")?"ğŸ’€":o.includes("ì¶”ë°©í–ˆìŠµë‹ˆë‹¤")?"ğŸšª":o.includes("ì¶•ì œ")?"ğŸ‰":o.includes("ìˆ˜í™•")?"ğŸŒ¾":o.includes("ë…„")&&o.includes("ì›”")?"ğŸ“…":"ğŸ“";return e.jsxs("div",{style:{border:"2px solid #34495e",borderRadius:"8px",padding:"20px",backgroundColor:"#ecf0f1",marginTop:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[e.jsxs("h2",{style:{margin:0,color:"#2c3e50"},children:["ê²Œì„ ë¡œê·¸ (",n.length,"ê°œ)"]}),e.jsx("button",{onClick:g,style:{backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",padding:"5px 10px",fontSize:"12px",cursor:"pointer"},children:"ğŸ”½ ë§¨ ì•„ë˜ë¡œ"})]}),e.jsx("div",{ref:s,onScroll:d,style:{height:"200px",overflowY:"auto",border:"1px solid #bdc3c7",borderRadius:"4px",backgroundColor:"white",padding:"10px",fontFamily:"monospace",fontSize:"12px"},children:n.length===0?e.jsx("div",{style:{textAlign:"center",color:"#7f8c8d",padding:"20px"},children:"ì•„ì§ ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤."}):n.map((o,u)=>e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",marginBottom:"5px",padding:"3px 0",borderBottom:"1px solid #f0f0f0"},children:[e.jsx("span",{style:{fontSize:"14px"},children:p(o.msg)}),e.jsx("span",{style:{color:o.msg.includes("ì£½ì—ˆìŠµë‹ˆë‹¤")||o.msg.includes("ì¶”ë°©")?"#e74c3c":o.msg.includes("ë‚³ì•˜ìŠµë‹ˆë‹¤")||o.msg.includes("ì¶•ì œ")?"#27ae60":o.msg.includes("ìˆ˜í™•")?"#f39c12":"#2c3e50"},children:o.msg})]},u))}),e.jsxs("div",{style:{marginTop:"10px",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"11px",color:"#7f8c8d"},children:[e.jsxs("span",{children:["ğŸ’¡ ",i?"ìë™ ìŠ¤í¬ë¡¤ í™œì„±í™”":"ìë™ ìŠ¤í¬ë¡¤ ë¹„í™œì„±í™” (ìœ„ë¡œ ìŠ¤í¬ë¡¤ë¨)"]}),!i&&e.jsx("button",{onClick:g,style:{backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"10px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:o=>o.target.style.backgroundColor="#2980b9",onMouseOut:o=>o.target.style.backgroundColor="#3498db",children:"ë§¨ ì•„ë˜ë¡œ"})]})]})}const I=({data:n,width:s=800,height:i=400,title:a,series:g})=>{const d=b.useRef(null);return b.useEffect(()=>{const o=d.current.getContext("2d");if(o.clearRect(0,0,s,i),!n||!n.population||n.population.length===0){o.strokeStyle="#e0e0e0",o.lineWidth=1;for(let _=0;_<=4;_++){const t=(i-20)*(_/4)+10;o.beginPath(),o.moveTo(40,t),o.lineTo(s-10,t),o.stroke()}o.fillStyle="#999",o.font="14px Arial",o.textAlign="center",o.fillText("ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤",s/2,i/2);return}const u=g.map(_=>_.dataKey==="food"?n[_.dataKey].map(t=>t.value/100):n[_.dataKey].map(t=>t.value)).flat(),m=Math.max(...u,1);o.strokeStyle="#e0e0e0",o.lineWidth=1;for(let _=0;_<=4;_++){const t=(i-20)*(_/4)+10;o.beginPath(),o.moveTo(40,t),o.lineTo(s-10,t),o.stroke()}o.fillStyle="#666",o.font="12px Arial",o.textAlign="right";for(let _=0;_<=4;_++){const t=Math.round(m*(4-_)/4),l=(i-20)*(_/4)+15;o.fillText(t,35,l)}o.textAlign="center";const h=Math.max(1,Math.floor(n.population.length/5));for(let _=0;_<n.population.length;_+=h){const t=40+_/(n.population.length-1)*(s-50);o.fillText(n.population[_].label,t,i-5)}const c=g.map(_=>({label:_.name,color:_.color}));o.font="12px Arial",c.forEach((_,t)=>{const l=s-200,r=20+t*20;o.fillStyle=_.color,o.fillRect(l,r-8,12,12),o.fillStyle="#333",o.textAlign="left",o.fillText(_.label,l+18,r)}),g.map(_=>({data:_.dataKey==="food"?n[_.dataKey].map(t=>({...t,value:t.value/100})):n[_.dataKey],color:_.color,name:_.name})).forEach(_=>{!_.data||_.data.length===0||(o.strokeStyle=_.color,o.lineWidth=2,o.beginPath(),_.data.forEach((t,l)=>{const r=40+l/(_.data.length-1)*(s-50),j=i-20-t.value/m*(i-40)+10;l===0?o.moveTo(r,j):o.lineTo(r,j)}),o.stroke(),o.fillStyle=_.color,_.data.forEach((t,l)=>{const r=40+l/(_.data.length-1)*(s-50),j=i-20-t.value/m*(i-40)+10;o.beginPath(),o.arc(r,j,3,0,2*Math.PI),o.fill()}))})},[n,s,i]),e.jsxs("div",{style:{margin:"10px 0"},children:[e.jsx("h4",{style:{margin:"0 0 10px 0",textAlign:"center"},children:a}),e.jsx("canvas",{ref:d,width:s,height:i,style:{border:"1px solid #ddd",borderRadius:"4px"}})]})},Qn=({villageState:n})=>{const[s,i]=b.useState({population:[],labor:[],food:[],fertileWomen:[],fertileWomenRatio:[],maleChildrenRatio:[],femaleChildrenRatio:[]});return b.useEffect(()=>{if(!n)return;n.turn;const a=n.year;n.month===12&&i(d=>({population:[...d.population,{label:`${a}ë…„`,value:n.people.length}].slice(-100),labor:[...d.labor,{label:`${a}ë…„`,value:n.people.reduce((o,u)=>o+u.labor,0)}].slice(-100),food:[...d.food,{label:`${a}ë…„`,value:n.food}].slice(-100),fertileWomen:[...d.fertileWomen,{label:`${a}ë…„`,value:n.people.filter(o=>o.gender==="female"&&o.age>=18&&o.age<=39).length}].slice(-100),fertileWomenRatio:[...d.fertileWomenRatio,{label:`${a}ë…„`,value:n.people.length>0?(n.people.filter(o=>o.gender==="female"&&o.age>=18&&o.age<=39).length/n.people.length*100).toFixed(1):0}].slice(-100),maleChildrenRatio:[...d.maleChildrenRatio,{label:`${a}ë…„`,value:n.people.length>0?(n.people.filter(o=>o.gender==="male"&&o.age<15).length/n.people.length*100).toFixed(1):0}].slice(-100),femaleChildrenRatio:[...d.femaleChildrenRatio,{label:`${a}ë…„`,value:n.people.length>0?(n.people.filter(o=>o.gender==="female"&&o.age<15).length/n.people.length*100).toFixed(1):0}].slice(-100)}))},[n.year,n.month,n.people.length,n.food]),n?(n.people.length,n.people.filter(a=>a.age>=15&&a.age<=65).length,n.people.filter(a=>a.age<15).length,n.people.filter(a=>a.age>65).length,n.people.reduce((a,g)=>a+g.labor,0),e.jsx("div",{style:{padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",margin:"10px 0"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[e.jsx(I,{data:s,title:"ğŸ“ˆ ë§ˆì„ ë³€í™” í†µí•© ì°¨íŠ¸",width:500,height:350,series:[{dataKey:"population",color:"#4CAF50",name:"ì¸êµ¬"},{dataKey:"labor",color:"#2196F3",name:"ë…¸ë™ë ¥"},{dataKey:"food",color:"#FF9800",name:"ì‹ëŸ‰/100"}]}),e.jsx(I,{data:s,title:"ğŸ“Š ì¸êµ¬ ë¹„ìœ¨ ë³€í™” ì°¨íŠ¸",width:500,height:350,series:[{dataKey:"fertileWomenRatio",color:"#E91E63",name:"ê°€ì„ê¸°ì—¬ì„±ë¹„ìœ¨(%)"},{dataKey:"maleChildrenRatio",color:"#2196F3",name:"ë‚¨ìì–´ë¦°ì´ë¹„ìœ¨(%)"},{dataKey:"femaleChildrenRatio",color:"#FF9800",name:"ì—¬ìì–´ë¦°ì´ë¹„ìœ¨(%)"}]})]})})):null};function Zn(){var r,j,x;const[n,s]=b.useState(null),[i,a]=b.useState(0),[g,d]=b.useState(!0),[p,o]=b.useState(1e3);if(b.useEffect(()=>{const k=E("village-sim-seed",[X()]);s(k)},[]),b.useEffect(()=>{if(!n)return;const k=()=>a(z=>z+1);return n.ctx.bus.on("effects.applied",k),()=>{n.ctx.bus.off("effects.applied",k)}},[n]),b.useEffect(()=>{if(!n||!g)return;const k=setInterval(()=>{n.dispatch("village","nextTurn")},p);return()=>clearInterval(k)},[n,g,p]),!n)return e.jsx("div",{children:"ë¡œë”© ì¤‘..."});const u=()=>{n.dispatch("village","nextTurn")},m=k=>{n.dispatch("village","exile",{personId:k})},h=()=>{n.dispatch("village","holdFestival")},c=()=>{n.dispatch("village","reset")},v=()=>{n.dispatch("village","toggleMaleBirths")},_=()=>{n.dispatch("village","toggleFemaleBirths")},t=()=>{d(!g)},l=k=>{o(k)};return e.jsxs("div",{className:"app",style:{maxWidth:"1200px",margin:"0 auto",padding:"20px",fontFamily:"Arial, sans-serif"},children:[e.jsx("h1",{style:{textAlign:"center",color:"#2c3e50"},children:"ì—ë„ ì‹œëŒ€ ë†ì´Œ ë§ˆì„ ì‹œë®¬ë ˆì´ì…˜"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx(N,{kernel:n,autoPlay:g,gameSpeed:p}),e.jsx(qn,{onNextTurn:u,onFestival:h,onReset:c,autoPlay:g,onToggleAutoPlay:t,gameSpeed:p,onSpeedChange:l,allowMaleBirths:((r=n.ctx.state.village)==null?void 0:r.allowMaleBirths)??!0,allowFemaleBirths:((j=n.ctx.state.village)==null?void 0:j.allowFemaleBirths)??!0,onToggleMaleBirths:v,onToggleFemaleBirths:_})]}),e.jsx("div",{children:e.jsx(Ln,{people:((x=n.ctx.state.village)==null?void 0:x.people)||[],onExile:m})})]}),e.jsx(Qn,{villageState:n.ctx.state.village}),e.jsx(Gn,{logs:n.ctx.log})]})}export{Zn as default};
